/*! Wardrobe 2013-06-02 */
(function(t,e){function r(t,e){var r=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return r.innerHTML="x<style>"+e+"</style>",n.insertBefore(r.lastChild,n.firstChild)}function n(){var t=p.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e={},r=t.createElement,o=t.createDocumentFragment,i=o();t.createElement=function(t){if(!p.shivMethods)return r(t);var n;return n=e[t]?e[t].cloneNode():c.test(t)?(e[t]=r(t)).cloneNode():r(t),n.canHaveChildren&&!l.test(t)?i.appendChild(n):n},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return r(t),i.createElement(t),'c("'+t+'")'})+");return n}")(p,i)}function i(t){var e;return t.documentShived?t:(p.shivCSS&&!s&&(e=!!r(t,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),a||(e=!o(t)),e&&(t.documentShived=e),t)}var s,a,u=t.html5||{},l=/^<|^(?:button|form|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i;(function(){var r=e.createElement("a");r.innerHTML="<xyz></xyz>",s="hidden"in r,s&&"function"==typeof injectElementWithStyles&&injectElementWithStyles("#modernizr{}",function(e){e.hidden=!0,s="none"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).display}),a=1==r.childNodes.length||function(){try{e.createElement("a")}catch(t){return!0}var r=e.createDocumentFragment();return r.cloneNode===void 0||r.createDocumentFragment===void 0||r.createElement===void 0}()})();var p={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!(u.shivCSS===!1),shivMethods:!(u.shivMethods===!1),type:"default",shivDocument:i};t.html5=p,i(e)})(this,document),function(){var t=this,e=t._,r={},n=Array.prototype,o=Object.prototype,i=Function.prototype,s=n.push,a=n.slice,u=n.concat,l=o.toString,c=o.hasOwnProperty,p=n.forEach,h=n.map,d=n.reduce,f=n.reduceRight,_=n.filter,g=n.every,y=n.some,m=n.indexOf,v=n.lastIndexOf,w=Array.isArray,b=Object.keys,x=i.bind,P=function(t){return t instanceof P?t:this instanceof P?(this._wrapped=t,void 0):new P(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=P),exports._=P):t._=P,P.VERSION="1.4.4";var C=P.each=P.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,i=t.length;i>o;o++)if(e.call(n,t[o],o,t)===r)return}else for(var s in t)if(P.has(t,s)&&e.call(n,t[s],s,t)===r)return};P.map=P.collect=function(t,e,r){var n=[];return null==t?n:h&&t.map===h?t.map(e,r):(C(t,function(t,o,i){n[n.length]=e.call(r,t,o,i)}),n)};var S="Reduce of empty array with no initial value";P.reduce=P.foldl=P.inject=function(t,e,r,n){var o=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return n&&(e=P.bind(e,n)),o?t.reduce(e,r):t.reduce(e);if(C(t,function(t,i,s){o?r=e.call(n,r,t,i,s):(r=t,o=!0)}),!o)throw new TypeError(S);return r},P.reduceRight=P.foldr=function(t,e,r,n){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=P.bind(e,n)),o?t.reduceRight(e,r):t.reduceRight(e);var i=t.length;if(i!==+i){var s=P.keys(t);i=s.length}if(C(t,function(a,u,l){u=s?s[--i]:--i,o?r=e.call(n,r,t[u],u,l):(r=t[u],o=!0)}),!o)throw new TypeError(S);return r},P.find=P.detect=function(t,e,r){var n;return E(t,function(t,o,i){return e.call(r,t,o,i)?(n=t,!0):void 0}),n},P.filter=P.select=function(t,e,r){var n=[];return null==t?n:_&&t.filter===_?t.filter(e,r):(C(t,function(t,o,i){e.call(r,t,o,i)&&(n[n.length]=t)}),n)},P.reject=function(t,e,r){return P.filter(t,function(t,n,o){return!e.call(r,t,n,o)},r)},P.every=P.all=function(t,e,n){e||(e=P.identity);var o=!0;return null==t?o:g&&t.every===g?t.every(e,n):(C(t,function(t,i,s){return(o=o&&e.call(n,t,i,s))?void 0:r}),!!o)};var E=P.some=P.any=function(t,e,n){e||(e=P.identity);var o=!1;return null==t?o:y&&t.some===y?t.some(e,n):(C(t,function(t,i,s){return o||(o=e.call(n,t,i,s))?r:void 0}),!!o)};P.contains=P.include=function(t,e){return null==t?!1:m&&t.indexOf===m?-1!=t.indexOf(e):E(t,function(t){return t===e})},P.invoke=function(t,e){var r=a.call(arguments,2),n=P.isFunction(e);return P.map(t,function(t){return(n?e:t[e]).apply(t,r)})},P.pluck=function(t,e){return P.map(t,function(t){return t[e]})},P.where=function(t,e,r){return P.isEmpty(e)?r?null:[]:P[r?"find":"filter"](t,function(t){for(var r in e)if(e[r]!==t[r])return!1;return!0})},P.findWhere=function(t,e){return P.where(t,e,!0)},P.max=function(t,e,r){if(!e&&P.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&P.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return C(t,function(t,o,i){var s=e?e.call(r,t,o,i):t;s>=n.computed&&(n={value:t,computed:s})}),n.value},P.min=function(t,e,r){if(!e&&P.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&P.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return C(t,function(t,o,i){var s=e?e.call(r,t,o,i):t;n.computed>s&&(n={value:t,computed:s})}),n.value},P.shuffle=function(t){var e,r=0,n=[];return C(t,function(t){e=P.random(r++),n[r-1]=n[e],n[e]=t}),n};var k=function(t){return P.isFunction(t)?t:function(e){return e[t]}};P.sortBy=function(t,e,r){var n=k(e);return P.pluck(P.map(t,function(t,e,o){return{value:t,index:e,criteria:n.call(r,t,e,o)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(n>r||void 0===n)return-1}return t.index<e.index?-1:1}),"value")};var V=function(t,e,r,n){var o={},i=k(e||P.identity);return C(t,function(e,s){var a=i.call(r,e,s,t);n(o,a,e)}),o};P.groupBy=function(t,e,r){return V(t,e,r,function(t,e,r){(P.has(t,e)?t[e]:t[e]=[]).push(r)})},P.countBy=function(t,e,r){return V(t,e,r,function(t,e){P.has(t,e)||(t[e]=0),t[e]++})},P.sortedIndex=function(t,e,r,n){r=null==r?P.identity:k(r);for(var o=r.call(n,e),i=0,s=t.length;s>i;){var a=i+s>>>1;o>r.call(n,t[a])?i=a+1:s=a}return i},P.toArray=function(t){return t?P.isArray(t)?a.call(t):t.length===+t.length?P.map(t,P.identity):P.values(t):[]},P.size=function(t){return null==t?0:t.length===+t.length?t.length:P.keys(t).length},P.first=P.head=P.take=function(t,e,r){return null==t?void 0:null==e||r?t[0]:a.call(t,0,e)},P.initial=function(t,e,r){return a.call(t,0,t.length-(null==e||r?1:e))},P.last=function(t,e,r){return null==t?void 0:null==e||r?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},P.rest=P.tail=P.drop=function(t,e,r){return a.call(t,null==e||r?1:e)},P.compact=function(t){return P.filter(t,P.identity)};var O=function(t,e,r){return C(t,function(t){P.isArray(t)?e?s.apply(r,t):O(t,e,r):r.push(t)}),r};P.flatten=function(t,e){return O(t,e,[])},P.without=function(t){return P.difference(t,a.call(arguments,1))},P.uniq=P.unique=function(t,e,r,n){P.isFunction(e)&&(n=r,r=e,e=!1);var o=r?P.map(t,r,n):t,i=[],s=[];return C(o,function(r,n){(e?n&&s[s.length-1]===r:P.contains(s,r))||(s.push(r),i.push(t[n]))}),i},P.union=function(){return P.uniq(u.apply(n,arguments))},P.intersection=function(t){var e=a.call(arguments,1);return P.filter(P.uniq(t),function(t){return P.every(e,function(e){return P.indexOf(e,t)>=0})})},P.difference=function(t){var e=u.apply(n,a.call(arguments,1));return P.filter(t,function(t){return!P.contains(e,t)})},P.zip=function(){for(var t=a.call(arguments),e=P.max(P.pluck(t,"length")),r=Array(e),n=0;e>n;n++)r[n]=P.pluck(t,""+n);return r},P.object=function(t,e){if(null==t)return{};for(var r={},n=0,o=t.length;o>n;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},P.indexOf=function(t,e,r){if(null==t)return-1;var n=0,o=t.length;if(r){if("number"!=typeof r)return n=P.sortedIndex(t,e),t[n]===e?n:-1;n=0>r?Math.max(0,o+r):r}if(m&&t.indexOf===m)return t.indexOf(e,r);for(;o>n;n++)if(t[n]===e)return n;return-1},P.lastIndexOf=function(t,e,r){if(null==t)return-1;var n=null!=r;if(v&&t.lastIndexOf===v)return n?t.lastIndexOf(e,r):t.lastIndexOf(e);for(var o=n?r:t.length;o--;)if(t[o]===e)return o;return-1},P.range=function(t,e,r){1>=arguments.length&&(e=t||0,t=0),r=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/r),0),o=0,i=Array(n);n>o;)i[o++]=t,t+=r;return i},P.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));var r=a.call(arguments,2);return function(){return t.apply(e,r.concat(a.call(arguments)))}},P.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},P.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=P.functions(t)),C(e,function(e){t[e]=P.bind(t[e],t)}),t},P.memoize=function(t,e){var r={};return e||(e=P.identity),function(){var n=e.apply(this,arguments);return P.has(r,n)?r[n]:r[n]=t.apply(this,arguments)}},P.delay=function(t,e){var r=a.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},P.defer=function(t){return P.delay.apply(P,[t,1].concat(a.call(arguments,1)))},P.throttle=function(t,e){var r,n,o,i,s=0,a=function(){s=new Date,o=null,i=t.apply(r,n)};return function(){var u=new Date,l=e-(u-s);return r=this,n=arguments,0>=l?(clearTimeout(o),o=null,s=u,i=t.apply(r,n)):o||(o=setTimeout(a,l)),i}},P.debounce=function(t,e,r){var n,o;return function(){var i=this,s=arguments,a=function(){n=null,r||(o=t.apply(i,s))},u=r&&!n;return clearTimeout(n),n=setTimeout(a,e),u&&(o=t.apply(i,s)),o}},P.once=function(t){var e,r=!1;return function(){return r?e:(r=!0,e=t.apply(this,arguments),t=null,e)}},P.wrap=function(t,e){return function(){var r=[t];return s.apply(r,arguments),e.apply(this,r)}},P.compose=function(){var t=arguments;return function(){for(var e=arguments,r=t.length-1;r>=0;r--)e=[t[r].apply(this,e)];return e[0]}},P.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},P.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var r in t)P.has(t,r)&&(e[e.length]=r);return e},P.values=function(t){var e=[];for(var r in t)P.has(t,r)&&e.push(t[r]);return e},P.pairs=function(t){var e=[];for(var r in t)P.has(t,r)&&e.push([r,t[r]]);return e},P.invert=function(t){var e={};for(var r in t)P.has(t,r)&&(e[t[r]]=r);return e},P.functions=P.methods=function(t){var e=[];for(var r in t)P.isFunction(t[r])&&e.push(r);return e.sort()},P.extend=function(t){return C(a.call(arguments,1),function(e){if(e)for(var r in e)t[r]=e[r]}),t},P.pick=function(t){var e={},r=u.apply(n,a.call(arguments,1));return C(r,function(r){r in t&&(e[r]=t[r])}),e},P.omit=function(t){var e={},r=u.apply(n,a.call(arguments,1));for(var o in t)P.contains(r,o)||(e[o]=t[o]);return e},P.defaults=function(t){return C(a.call(arguments,1),function(e){if(e)for(var r in e)null==t[r]&&(t[r]=e[r])}),t},P.clone=function(t){return P.isObject(t)?P.isArray(t)?t.slice():P.extend({},t):t},P.tap=function(t,e){return e(t),t};var T=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof P&&(t=t._wrapped),e instanceof P&&(e=e._wrapped);var o=l.call(t);if(o!=l.call(e))return!1;switch(o){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var i=r.length;i--;)if(r[i]==t)return n[i]==e;r.push(t),n.push(e);var s=0,a=!0;if("[object Array]"==o){if(s=t.length,a=s==e.length)for(;s--&&(a=T(t[s],e[s],r,n)););}else{var u=t.constructor,c=e.constructor;if(u!==c&&!(P.isFunction(u)&&u instanceof u&&P.isFunction(c)&&c instanceof c))return!1;for(var p in t)if(P.has(t,p)&&(s++,!(a=P.has(e,p)&&T(t[p],e[p],r,n))))break;if(a){for(p in e)if(P.has(e,p)&&!s--)break;a=!s}}return r.pop(),n.pop(),a};P.isEqual=function(t,e){return T(t,e,[],[])},P.isEmpty=function(t){if(null==t)return!0;if(P.isArray(t)||P.isString(t))return 0===t.length;for(var e in t)if(P.has(t,e))return!1;return!0},P.isElement=function(t){return!(!t||1!==t.nodeType)},P.isArray=w||function(t){return"[object Array]"==l.call(t)},P.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){P["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),P.isArguments(arguments)||(P.isArguments=function(t){return!(!t||!P.has(t,"callee"))}),P.isFunction=function(t){return"function"==typeof t},P.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},P.isNaN=function(t){return P.isNumber(t)&&t!=+t},P.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},P.isNull=function(t){return null===t},P.isUndefined=function(t){return void 0===t},P.has=function(t,e){return c.call(t,e)},P.noConflict=function(){return t._=e,this},P.identity=function(t){return t},P.times=function(t,e,r){for(var n=Array(t),o=0;t>o;o++)n[o]=e.call(r,o);return n},P.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=P.invert(A.escape);var L={escape:RegExp("["+P.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+P.keys(A.unescape).join("|")+")","g")};P.each(["escape","unescape"],function(t){P[t]=function(e){return null==e?"":(""+e).replace(L[t],function(e){return A[t][e]})}}),P.result=function(t,e){if(null==t)return null;var r=t[e];return P.isFunction(r)?r.call(t):r},P.mixin=function(t){C(P.functions(t),function(e){var r=P[e]=t[e];P.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),H.call(this,r.apply(P,t))}})};var M=0;P.uniqueId=function(t){var e=++M+"";return t?t+e:e},P.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;P.template=function(t,e,r){var n;r=P.defaults({},r,P.templateSettings);var o=RegExp([(r.escape||W).source,(r.interpolate||W).source,(r.evaluate||W).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(o,function(e,r,n,o,a){return s+=t.slice(i,a).replace(R,function(t){return"\\"+N[t]}),r&&(s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=a+e.length,e}),s+="';\n",r.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=Function(r.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return n(e,P);var u=function(t){return n.call(this,t,P)};return u.source="function("+(r.variable||"obj")+"){\n"+s+"}",u},P.chain=function(t){return P(t).chain()};var H=function(t){return this._chain?P(t).chain():t};P.mixin(P),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];P.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!=t&&"splice"!=t||0!==r.length||delete r[0],H.call(this,r)}}),C(["concat","join","slice"],function(t){var e=n[t];P.prototype[t]=function(){return H.call(this,e.apply(this._wrapped,arguments))}}),P.extend(P.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var Backbone,t=this,e=t.Backbone,r=[],n=r.push,o=r.slice,i=r.splice;Backbone="undefined"!=typeof exports?exports:t.Backbone={},Backbone.VERSION="1.0.0";var s=t._;s||"undefined"==typeof require||(s=require("underscore")),Backbone.$=t.jQuery||t.Zepto||t.ender||t.$,Backbone.noConflict=function(){return t.Backbone=e,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var a=Backbone.Events={on:function(t,e,r){if(!l(this,"on",t,[e,r])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:r,ctx:r||this}),this},once:function(t,e,r){if(!l(this,"once",t,[e,r])||!e)return this;var n=this,o=s.once(function(){n.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,r)},off:function(t,e,r){var n,o,i,a,u,c,p,h;if(!this._events||!l(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events={},this;for(a=t?[t]:s.keys(this._events),u=0,c=a.length;c>u;u++)if(t=a[u],i=this._events[t]){if(this._events[t]=n=[],e||r)for(p=0,h=i.length;h>p;p++)o=i[p],(e&&e!==o.callback&&e!==o.callback._callback||r&&r!==o.context)&&n.push(o);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!l(this,"trigger",t,e))return this;var r=this._events[t],n=this._events.all;return r&&c(r,e),n&&c(n,arguments),this},stopListening:function(t,e,r){var n=this._listeners;if(!n)return this;var o=!e&&!r;"object"==typeof e&&(r=this),t&&((n={})[t._listenerId]=t);for(var i in n)n[i].off(e,r,this),o&&delete this._listeners[i];return this}},u=/\s+/,l=function(t,e,r,n){if(!r)return!0;if("object"==typeof r){for(var o in r)t[e].apply(t,[o,r[o]].concat(n));return!1}if(u.test(r)){for(var i=r.split(u),s=0,a=i.length;a>s;s++)t[e].apply(t,[i[s]].concat(n));return!1}return!0},c=function(t,e){var r,n=-1,o=t.length,i=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;o>++n;)(r=t[n]).callback.call(r.ctx);return;case 1:for(;o>++n;)(r=t[n]).callback.call(r.ctx,i);return;case 2:for(;o>++n;)(r=t[n]).callback.call(r.ctx,i,s);return;case 3:for(;o>++n;)(r=t[n]).callback.call(r.ctx,i,s,a);return;default:for(;o>++n;)(r=t[n]).callback.apply(r.ctx,e)}},p={listenTo:"on",listenToOnce:"once"};s.each(p,function(t,e){a[e]=function(e,r,n){var o=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=s.uniqueId("l"));return o[i]=e,"object"==typeof r&&(n=this),e[t](r,n,this),this}}),a.bind=a.on,a.unbind=a.off,s.extend(Backbone,a);var h=Backbone.Model=function(t,e){var r,n=t||{};e||(e={}),this.cid=s.uniqueId("c"),this.attributes={},s.extend(this,s.pick(e,d)),e.parse&&(n=this.parse(n,e)||{}),(r=s.result(this,"defaults"))&&(n=s.defaults({},n,r)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},d=["url","urlRoot","collection"];s.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return s.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var n,o,i,a,u,l,c,p;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;i=r.unset,u=r.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=s.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(n in o)e=o[n],s.isEqual(p[n],e)||a.push(n),s.isEqual(c[n],e)?delete this.changed[n]:this.changed[n]=e,i?delete p[n]:p[n]=e;if(!u){a.length&&(this._pending=!0);for(var h=0,d=a.length;d>h;h++)this.trigger("change:"+a[h],this,p[a[h]],r)}if(l)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,s.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,s.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!s.isEmpty(this.changed):s.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?s.clone(this.changed):!1;var e,r=!1,n=this._changing?this._previousAttributes:this.attributes;for(var o in t)s.isEqual(n[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),e.trigger("sync",e,n,t),void 0):!1},R(this,t),this.sync("read",this,t)},save:function(t,e,r){var n,o,i,a=this.attributes;if(null==t||"object"==typeof t?(n=t,r=e):(n={})[t]=e,!(!n||r&&r.wait||this.set(n,r)))return!1;if(r=s.extend({validate:!0},r),!this._validate(n,r))return!1;n&&r.wait&&(this.attributes=s.extend({},a,n)),void 0===r.parse&&(r.parse=!0);var u=this,l=r.success;return r.success=function(t){u.attributes=a;var e=u.parse(t,r);return r.wait&&(e=s.extend(n||{},e)),s.isObject(e)&&!u.set(e,r)?!1:(l&&l(u,t,r),u.trigger("sync",u,t,r),void 0)},R(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=n),i=this.sync(o,this,r),n&&r.wait&&(this.attributes=a),i},destroy:function(t){t=t?s.clone(t):{};var e=this,r=t.success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(o){(t.wait||e.isNew())&&n(),r&&r(e,o,t),e.isNew()||e.trigger("sync",e,o,t)},this.isNew())return t.success(),!1;R(this,t);var o=this.sync("delete",this,t);return t.wait||n(),o},url:function(){var t=s.result(this,"urlRoot")||s.result(this.collection,"url")||N();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},s.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=s.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,s.extend(e||{},{validationError:r})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];s.each(f,function(t){h.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),s[t].apply(s,e)}});var _=Backbone.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,s.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};s.extend(_.prototype,a,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(t,e){return this.set(t,s.defaults(e||{},y))},remove:function(t,e){t=s.isArray(t)?t.slice():[t],e||(e={});var r,n,o,i;for(r=0,n=t.length;n>r;r++)i=this.get(t[r]),i&&(delete this._byId[i.id],delete this._byId[i.cid],o=this.indexOf(i),this.models.splice(o,1),this.length--,e.silent||(e.index=o,i.trigger("remove",i,this,e)),this._removeReference(i));return this},set:function(t,e){e=s.defaults(e||{},g),e.parse&&(t=this.parse(t,e)),s.isArray(t)||(t=t?[t]:[]);var r,o,a,u,l,c=e.at,p=this.comparator&&null==c&&e.sort!==!1,h=s.isString(this.comparator)?this.comparator:null,d=[],f=[],_={};for(r=0,o=t.length;o>r;r++)(a=this._prepareModel(t[r],e))&&((u=this.get(a))?(e.remove&&(_[u.cid]=!0),e.merge&&(u.set(a.attributes,e),p&&!l&&u.hasChanged(h)&&(l=!0))):e.add&&(d.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)));if(e.remove){for(r=0,o=this.length;o>r;++r)_[(a=this.models[r]).cid]||f.push(a);f.length&&this.remove(f,e)}if(d.length&&(p&&(l=!0),this.length+=d.length,null!=c?i.apply(this.models,[c,0].concat(d)):n.apply(this.models,d)),l&&this.sort({silent:!0}),e.silent)return this;for(r=0,o=d.length;o>r;r++)(a=d[r]).trigger("add",a,this,e);return l&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var r=0,n=this.models.length;n>r;r++)this._removeReference(this.models[r]);return e.previousModels=this.models,this._reset(),this.add(t,s.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return s.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var r in t)if(t[r]!==e.get(r))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,r){e||(e=this.comparator);var n=s.isFunction(e)?e:function(t){return t.get(e)};return s.sortedIndex(this.models,t,n,r)},pluck:function(t){return s.invoke(this.models,"get",t)},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var o=t.reset?"reset":"set";r[o](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?s.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,n=e.success;return e.success=function(o){e.wait&&r.add(t,e),n&&n(t,o,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var r=new this.model(t,e);return r._validate(t,e)?r:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,r,n){("add"!==t&&"remove"!==t||r===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(m,function(t){_.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),s[t].apply(s,e)}});var v=["groupBy","countBy","sortBy"];s.each(v,function(t){_.prototype[t]=function(e,r){var n=s.isFunction(e)?e:function(t){return t.get(e)};return s[t](this.models,n,r)}});var w=Backbone.View=function(t){this.cid=s.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];s.extend(w.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof Backbone.$?t:Backbone.$(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=s.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(s.isFunction(r)||(r=this[t[e]]),r){var n=e.match(b),o=n[1],i=n[2];r=s.bind(r,this),o+=".delegateEvents"+this.cid,""===i?this.$el.on(o,r):this.$el.on(o,i,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=s.extend({},s.result(this,"options"),t)),s.extend(this,s.pick(t,x)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t["class"]=s.result(this,"className"));var e=Backbone.$("<"+s.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}}),Backbone.sync=function(t,e,r){var n=P[t];s.defaults(r||(r={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var o={type:n,dataType:"json"};if(r.url||(o.url=s.result(e,"url")||N()),null!=r.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||e.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){o.type="POST",r.emulateJSON&&(o.data._method=n);var i=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",n),i?i.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=r.xhr=Backbone.ajax(s.extend(o,r));return e.trigger("request",e,a,r),a};var P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var C=Backbone.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,k=/\*\w+/g,V=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(C.prototype,a,{initialize:function(){},route:function(t,e,r){s.isRegExp(t)||(t=this._routeToRegExp(t)),s.isFunction(e)&&(r=e,e=""),r||(r=this[e]);var n=this;return Backbone.history.route(t,function(o){var i=n._extractParameters(t,o);r&&r.apply(n,i),n.trigger.apply(n,["route:"+e].concat(i)),n.trigger("route",e,i),Backbone.history.trigger("route",n,e,i)}),this},navigate:function(t,e){return Backbone.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var t,e=s.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(V,"\\$&").replace(S,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/]+)"}).replace(k,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return s.map(r,function(t){return t?decodeURIComponent(t):null})}});var O=Backbone.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},T=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,L=/msie [\w.]+/,M=/\/$/;O.started=!1,s.extend(O.prototype,a,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var r=this.root.replace(M,"");t.indexOf(r)||(t=t.substr(r.length))}else t=this.getHash();return t.replace(T,"")},start:function(t){if(O.started)throw Error("Backbone.history has already been started");O.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),r=document.documentMode,n=L.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(A,"/"),n&&this._wantsHashChange&&(this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;
var o=this.location,i=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!i?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&i&&o.hash&&(this.fragment=this.getHash().replace(T,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),r=s.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return r},navigate:function(t,e){if(!O.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var r=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,r){if(r){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),Backbone.history=new O;var W=function(t,e){var r,n=this;r=t&&s.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},s.extend(r,n,e);var o=function(){this.constructor=r};return o.prototype=n.prototype,r.prototype=new o,t&&s.extend(r.prototype,t),r.__super__=n.prototype,r};h.extend=_.extend=C.extend=w.extend=O.extend=W;var N=function(){throw Error('A "url" property or function must be specified')},R=function(t,e){var r=e.error;e.error=function(n){r&&r(t,n,e),t.trigger("error",t,n,e)}}}.call(this),Backbone.ChildViewContainer=function(Backbone,t){var e=function(t){this._views={},this._indexByModel={},this._indexByCollection={},this._indexByCustom={},this._updateLength(),this._addInitialViews(t)};t.extend(e.prototype,{add:function(t,e){var r=t.cid;this._views[r]=t,t.model&&(this._indexByModel[t.model.cid]=r),t.collection&&(this._indexByCollection[t.collection.cid]=r),e&&(this._indexByCustom[e]=r),this._updateLength()},findByModel:function(t){var e=this._indexByModel[t.cid];return this.findByCid(e)},findByCollection:function(t){var e=this._indexByCollection[t.cid];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(t){return this._views[t]},remove:function(t){var e=t.cid;t.model&&delete this._indexByModel[t.model.cid],t.collection&&delete this._indexByCollection[t.collection.cid];var r;for(var n in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(n)&&this._indexByCustom[n]===e){r=n;break}r&&delete this._indexByCustom[r],delete this._views[e],this._updateLength()},call:function(t,e){e=Array.prototype.slice.call(arguments,1),this.apply(t,e)},apply:function(e,r){r=r||[],t.each(this._views,function(n){t.isFunction(n[e])&&n[e].apply(n,r)})},_updateLength:function(){this.length=t.size(this._views)},_addInitialViews:function(t){if(t){var e,r,n=t.length;for(r=0;n>r;r++)e=t[r],this.add(e)}}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(r){e.prototype[r]=function(){var e=t.values(this._views),n=[e].concat(t.toArray(arguments));return t[r].apply(t,n)}}),e}(Backbone,_),Backbone.Wreqr=function(Backbone,t,e){"use strict";var r={};return r.Handlers=function(Backbone,t){var e=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return e.extend=Backbone.Model.extend,t.extend(e.prototype,Backbone.Events,{setHandlers:function(e){t.each(e,function(e,r){var n=null;t.isObject(e)&&!t.isFunction(e)&&(n=e.context,e=e.callback),this.setHandler(r,e,n)},this)},setHandler:function(t,e,r){var n={callback:e,context:r};this._wreqrHandlers[t]=n,this.trigger("handler:add",t,e,r)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(!e)throw Error("Handler not found for '"+t+"'");return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),e}(Backbone,e),r.CommandStorage=function(){var t=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(t.prototype,Backbone.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var r=this.getCommands(t);r.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),t}(),r.Commands=function(t){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var r=Array.prototype.slice.call(arguments);t.Handlers.prototype.constructor.apply(this,r)},execute:function(t,e){t=arguments[0],e=Array.prototype.slice.call(arguments,1),this.hasHandler(t)?this.getHandler(t).apply(this,e):this.storage.addCommand(t,e)},_executeCommands:function(t,r,n){var o=this.storage.getCommands(t);e.each(o.instances,function(t){r.apply(n,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var r,n=t.storageType||this.storageType;r=e.isFunction(n)?new n:n,this.storage=r}})}(r),r.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.getHandler(t).apply(this,e)}})}(r),r.EventAggregator=function(Backbone,t){var e=function(){};return e.extend=Backbone.Model.extend,t.extend(e.prototype,Backbone.Events),e}(Backbone,e),r}(Backbone,Backbone.Marionette,_);var Marionette=function(t,Backbone,e){"use strict";function r(t){return i.call(t)}function n(t,e){var r=Error(t);throw r.name=e||"Error",r}var o={};Backbone.Marionette=o,o.$=Backbone.$;var i=Array.prototype.slice;return o.extend=Backbone.Model.extend,o.getOption=function(t,e){if(t&&e){var r;return r=t.options&&e in t.options&&void 0!==t.options[e]?t.options[e]:t[e]}},o.triggerMethod=function(){function t(t,e,r){return r.toUpperCase()}var r=/(^|:)(\w)/gi,n=function(n){var o="on"+n.replace(r,t),i=this[o];return this.trigger.apply(this,arguments),e.isFunction(i)?i.apply(this,e.tail(arguments)):void 0};return n}(),o.MonitorDOMRefresh=function(){function t(t){t._isShown=!0,n(t)}function r(t){t._isRendered=!0,n(t)}function n(t){t._isShown&&t._isRendered&&e.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){r(e)})}}(),function(t){function r(t,r,o,i){var s=i.split(/\s+/);e.each(s,function(e){var i=t[e];i||n("Method '"+e+"' was configured as an event handler, but does not exist."),t.listenTo(r,o,i,t)})}function o(t,e,r,n){t.listenTo(e,r,n,t)}function i(t,r,n,o){var i=o.split(/\s+/);e.each(i,function(){var e=t[e];t.stopListening(r,n,e,t)})}function s(t,e,r,n){t.stopListening(e,r,n,t)}function a(t,r,n,o,i){r&&n&&(e.isFunction(n)&&(n=n.call(t)),e.each(n,function(n,s){e.isFunction(n)?o(t,r,s,n):i(t,r,s,n)}))}t.bindEntityEvents=function(t,e,n){a(t,e,n,o,r)},t.unbindEntityEvents=function(t,e,r){a(t,e,r,s,i)}}(o),o.Callbacks=function(){this._deferred=o.$.Deferred(),this._callbacks=[]},e.extend(o.Callbacks.prototype,{add:function(t,e){this._callbacks.push({cb:t,ctx:e}),this._deferred.done(function(r,n){e&&(r=e),t.call(r,n)})},run:function(t,e){this._deferred.resolve(e,t)},reset:function(){var t=this._callbacks;this._deferred=o.$.Deferred(),this._callbacks=[],e.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),o.Controller=function(t){this.triggerMethod=o.triggerMethod,this.options=t||{},e.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,e.extend(o.Controller.prototype,Backbone.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),o.Region=function(t){if(this.options=t||{},this.el=o.getOption(this,"el"),!this.el){var e=Error("An 'el' must be specified for a region.");throw e.name="NoElError",e}if(this.initialize){var r=Array.prototype.slice.apply(arguments);this.initialize.apply(this,r)}},e.extend(o.Region,{buildRegion:function(t,r){var n="string"==typeof t,o="string"==typeof t.selector,i=t.regionType===void 0,s="function"==typeof t;if(!s&&!n&&!o)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var a,u;n&&(a=t),t.selector&&(a=t.selector),s&&(u=t),!s&&i&&(u=r),t.regionType&&(u=t.regionType);var l=new u({el:a});return t.parentEl&&(l.getEl=function(r){var n=t.parentEl;return e.isFunction(n)&&(n=n()),n.find(r)}),l}}),e.extend(o.Region.prototype,Backbone.Events,{show:function(t){this.ensureEl(),t!==this.currentView?(this.close(),t.render(),this.open(t)):t.render(),o.triggerMethod.call(t,"show"),o.triggerMethod.call(this,"show",t),this.currentView=t},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(t){return o.$(t)},open:function(t){this.$el.empty().append(t.el)},close:function(){var t=this.currentView;t&&!t.isClosed&&(t.close?t.close():t.remove&&t.remove(),o.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(t){this.currentView=t},reset:function(){this.close(),delete this.$el}}),o.Region.extend=o.extend,o.RegionManager=function(t){var r=t.Controller.extend({constructor:function(e){this._regions={},t.Controller.prototype.constructor.call(this,e)},addRegions:function(t,r){var n={};return e.each(t,function(t,o){"string"==typeof t&&(t={selector:t}),t.selector&&(t=e.defaults({},t,r));var i=this.addRegion(o,t);n[o]=i},this),n},addRegion:function(r,n){var o,i=e.isObject(n),s=e.isString(n),a=!!n.selector;return o=s||i&&a?t.Region.buildRegion(n,t.Region):e.isFunction(n)?t.Region.buildRegion(n,t.Region):n,this._store(r,o),this.triggerMethod("region:add",r,o),o},get:function(t){return this._regions[t]},removeRegion:function(t){var e=this._regions[t];this._remove(t,e)},removeRegions:function(){e.each(this._regions,function(t,e){this._remove(e,t)},this)},closeRegions:function(){e.each(this._regions,function(t){t.close()},this)},close:function(){this.removeRegions();var e=Array.prototype.slice.call(arguments);t.Controller.prototype.close.apply(this,e)},_store:function(t,r){this._regions[t]=r,this.length=e.size(this._regions)},_remove:function(t,e){e.close(),delete this._regions[t],this.triggerMethod("region:remove",t,e)}}),n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(n,function(t){r.prototype[t]=function(){var r=e.values(this._regions),n=[r].concat(e.toArray(arguments));return e[t].apply(e,n)}}),r}(o),o.TemplateCache=function(t){this.templateId=t},e.extend(o.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new o.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=r(arguments),n=e.length;if(n>0)for(t=0;n>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),e.extend(o.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var e=o.$(t).html();return e&&0!==e.length||n("Could not find template: '"+t+"'","NoTemplateError"),e},compileTemplate:function(t){return e.template(t)}}),o.Renderer={render:function(t,e){var r="function"==typeof t?t:o.TemplateCache.get(t);return r(e)}},o.View=Backbone.View.extend({constructor:function(){e.bindAll(this,"render");var t=Array.prototype.slice.apply(arguments);Backbone.View.prototype.constructor.apply(this,t),o.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:o.triggerMethod,getTemplate:function(){return o.getOption(this,"template")},mixinTemplateHelpers:function(t){t=t||{};var r=this.templateHelpers;return e.isFunction(r)&&(r=r.call(this)),e.extend(t,r)},configureTriggers:function(){if(this.triggers){var t={},r=e.result(this,"triggers");return e.each(r,function(e,r){t[r]=function(t){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation();var r={view:this,model:this.model,collection:this.collection};this.triggerMethod(e,r)}},this),t}},delegateEvents:function(t){this._delegateDOMEvents(t),o.bindEntityEvents(this,this.model,o.getOption(this,"modelEvents")),o.bindEntityEvents(this,this.collection,o.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(t){t=t||this.events,e.isFunction(t)&&(t=t.call(this));var r={},n=this.configureTriggers();e.extend(r,t,n),Backbone.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var t=Array.prototype.slice.call(arguments);Backbone.View.prototype.undelegateEvents.apply(this,t),o.unbindEntityEvents(this,this.model,o.getOption(this,"modelEvents")),o.unbindEntityEvents(this,this.collection,o.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var t=this.triggerMethod("before:close");t!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=e.result(this,"_uiBindings");this.ui={},e.each(e.keys(t),function(e){var r=t[e];this.ui[e]=this.$(r)},this)}},unbindUIElements:function(){this.ui&&(e.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),o.ItemView=o.View.extend({constructor:function(){o.View.prototype.constructor.apply(this,r(arguments))},serializeData:function(){var t={};return this.model?t=this.model.toJSON():this.collection&&(t={items:this.collection.toJSON()}),t},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var t=this.serializeData();t=this.mixinTemplateHelpers(t);var e=this.getTemplate(),r=o.Renderer.render(e,t);return this.$el.html(r),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),o.View.prototype.close.apply(this,r(arguments)),this.triggerMethod("item:closed"))}}),o.CollectionView=o.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),o.View.prototype.constructor.apply(this,r(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(t){this.closeEmptyView();var e=this.getItemView(t),r=this.collection.indexOf(t);this.addItemView(t,e,r)},onShowCalled:function(){this.children.each(function(t){o.triggerMethod.call(t,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var t;this.collection.each(function(e,r){t=this.getItemView(e),this.addItemView(e,t,r)},this)},showEmptyView:function(){var t=o.getOption(this,"emptyView");if(t&&!this._showingEmptyView){this._showingEmptyView=!0;var e=new Backbone.Model;this.addItemView(e,t,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var t=o.getOption(this,"itemView");return t||n("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(t,r,n){var i=o.getOption(this,"itemViewOptions");e.isFunction(i)&&(i=i.call(this,t,n));var s=this.buildItemView(t,r,i);this.addChildViewEventForwarding(s),this.triggerMethod("before:item:added",s),this.children.add(s),this.renderItemView(s,n),this._isShown&&o.triggerMethod.call(s,"show"),this.triggerMethod("after:item:added",s)},addChildViewEventForwarding:function(t){var e=o.getOption(this,"itemViewEventPrefix");this.listenTo(t,"all",function(){var n=r(arguments);n[0]=e+":"+n[0],n.splice(1,0,t),o.triggerMethod.apply(this,n)},this)},renderItemView:function(t,e){t.render(),this.appendHtml(this,t,e)},buildItemView:function(t,r,n){var o=e.extend({model:t},n);return new r(o)},removeItemView:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},removeChildView:function(t){t&&(this.stopListening(t),t.close?t.close():t.remove&&t.remove(),this.children.remove(t)),this.triggerMethod("item:removed",t)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendHtml:function(t,e){t.$el.append(e.el)},_initChildViewStorage:function(){this.children=new Backbone.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),o.View.prototype.close.apply(this,r(arguments)))},closeChildren:function(){this.children.each(function(t){this.removeChildView(t)},this),this.checkEmpty()}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,r(arguments)),this.itemView=this.getItemView()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var t=o.getOption(this,"itemView")||this.constructor;return t||n("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var t={};return this.model&&(t=this.model.toJSON()),t},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var t=this.renderModel();return this.$el.html(t),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(o.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t);var e=this.getTemplate();return o.Renderer.render(e,t)},appendHtml:function(t,e){var r=this.getItemViewContainer(t);r.append(e.el)},getItemViewContainer:function(t){if("$itemViewContainer"in t)return t.$itemViewContainer;var r;if(t.itemViewContainer){var o=e.result(t,"itemViewContainer");r=t.$(o),0>=r.length&&n("The specified `itemViewContainer` was not found: "+t.itemViewContainer,"ItemViewContainerMissingError")}else r=t.$el;return t.$itemViewContainer=r,r},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),o.Layout=o.ItemView.extend({regionType:o.Region,constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?this._initializeRegions():this._reInitializeRegions();var t=Array.prototype.slice.apply(arguments),e=o.ItemView.prototype.render.apply(this,t);return e},close:function(){if(!this.isClosed){this.regionManager.close();var t=Array.prototype.slice.apply(arguments);o.ItemView.prototype.close.apply(this,t)}},addRegion:function(t,e){var r={};return r[t]=e,this.addRegions(r)[t]},addRegions:function(t){return this.regions=e.extend(this.regions||{},t),this._buildRegions(t)},removeRegion:function(t){return this.regionManager.removeRegion(t)},_buildRegions:function(t){var e=this,r={parentEl:function(){return e.$el}};return this.regionManager.addRegions(t,r)},_initializeRegions:function(t){var r;this._initRegionManager(),r=e.isFunction(this.regions)?this.regions(t):this.regions||{},this.addRegions(r)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(t){t.reset()})},_initRegionManager:function(){this.regionManager=new o.RegionManager,this.listenTo(this.regionManager,"region:add",function(t,e){this[t]=e,this.trigger("region:add",t,e)}),this.listenTo(this.regionManager,"region:remove",function(t,e){delete this[t],this.trigger("region:remove",t,e)})}}),o.AppRouter=Backbone.Router.extend({constructor:function(t){if(Backbone.Router.prototype.constructor.apply(this,r(arguments)),this.options=t,this.appRoutes){var e=o.getOption(this,"controller");this.processAppRoutes(e,this.appRoutes)}},processAppRoutes:function(t,r){var n=e.keys(r).reverse();e.each(n,function(n){var o=r[n],i=t[o];if(!i)throw Error("Method '"+o+"' was not found on the controller");this.route(n,o,e.bind(i,t))},this)}}),o.Application=function(t){this._initRegionManager(),this._initCallbacks=new o.Callbacks,this.vent=new Backbone.Wreqr.EventAggregator,this.commands=new Backbone.Wreqr.Commands,this.reqres=new Backbone.Wreqr.RequestResponse,this.submodules={},e.extend(this,t),this.triggerMethod=o.triggerMethod},e.extend(o.Application.prototype,Backbone.Events,{execute:function(){var t=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,t)},request:function(){var t=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,t)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("initialize:before",t),this._initCallbacks.run(t,this),this.triggerMethod("initialize:after",t),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},removeRegion:function(t){this._regionManager.removeRegion(t)},module:function(){var t=r(arguments);return t.unshift(this),o.Module.create.apply(o.Module,t)},_initRegionManager:function(){this._regionManager=new o.RegionManager,this.listenTo(this._regionManager,"region:add",function(t,e){this[t]=e}),this.listenTo(this._regionManager,"region:remove",function(t){delete this[t]})}}),o.Application.extend=o.extend,o.Module=function(t,e){this.moduleName=t,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,this.startWithParent=!0,this.triggerMethod=o.triggerMethod},e.extend(o.Module.prototype,Backbone.Events,{addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(e.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,o.triggerMethod.call(this,"before:stop"),e.each(this.submodules,function(t){t.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),o.triggerMethod.call(this,"stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,r){if(t){var n=e.flatten([this,this.app,Backbone,o,o.$,e,r]);t.apply(this,n)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks}}),e.extend(o.Module,{create:function(t,n,o){var i=t,s=r(arguments);s.splice(0,3),n=n.split(".");var a=n.length,u=[];return u[a-1]=o,e.each(n,function(e,r){var n=i;i=this._getModule(n,e,t),this._addModuleDefinition(n,i,u[r],s)},this),i},_getModule:function(t,e,r){var n=t[e];return n||(n=new o.Module(e,r),t[e]=n,t.submodules[e]=n),n},_addModuleDefinition:function(t,r,n,o){var i,s;e.isFunction(n)?(i=n,s=!0):e.isObject(n)?(i=n.define,s=n.startWithParent):s=!0,i&&r.addDefinition(i,o),r.startWithParent=r.startWithParent&&s,r.startWithParent&&!r.startWithParentIsConfigured&&(r.startWithParentIsConfigured=!0,t.addInitializer(function(t){r.startWithParent&&r.start(t)}))}}),o}(this,Backbone,_);(function(t){function e(t){this.init(t)}function r(t,e){e=e||t.getCursor("start");var r=t.getTokenAt(e);if(!r.type)return{};for(var n,o,i=r.type.split(" "),s={},a=0;i.length>a;a++)n=i[a],"strong"===n?s.bold=!0:"variable-2"===n?(o=t.getLine(e.line),/^\s*\d+\.\s/.test(o)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===n?s.quote=!0:"em"===n&&(s.italic=!0);return s}function n(t){return t=u?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function o(t){var e=document,r=e.fullScreen||e.mozFullScreen||e.webkitFullScreen,n=function(){t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)},o=function(){e.cancelFullScreen?e.cancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()};r?o&&o():n()}var i=function(){"use strict";function t(r,n){if(!(this instanceof t))return new t(r,n);this.options=n=n||{};for(var o in Uo)!n.hasOwnProperty(o)&&Uo.hasOwnProperty(o)&&(n[o]=Uo[o]);h(n);var i="string"==typeof n.value?0:n.value.first,s=this.display=e(r,i);s.wrapper.CodeMirror=this,l(this),n.autofocus&&!Oo&&le(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new In},a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var u=n.value;"string"==typeof u&&(u=new ii(n.value,n.mode)),ee(this,un)(this,u),go&&setTimeout(Gn(ue,this,!0),20),pe(this);var c;try{c=document.activeElement==s.input}catch(p){}c||n.autofocus&&!Oo?setTimeout(Gn(ke,this),20):Ve(this),ee(this,function(){for(var t in Fo)Fo.propertyIsEnumerable(t)&&Fo[t](this,n[t],Yo);for(var e=0;Zo.length>e;++e)Zo[e](this)})()}function e(t,e){var r={},n=r.input=Zn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");vo?n.style.width="1000px":n.setAttribute("wrap","off"),Vo&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),r.inputDiv=Zn("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=Zn("div",[Zn("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=Zn("div",[Zn("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=Zn("div",null,"CodeMirror-scrollbar-filler"),r.lineDiv=Zn("div"),r.selectionDiv=Zn("div",null,null,"position: relative; z-index: 1"),r.cursor=Zn("div","","CodeMirror-cursor"),r.otherCursor=Zn("div","","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=Zn("div",null,"CodeMirror-measure"),r.lineSpace=Zn("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=Zn("div",[Zn("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Zn("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=Zn("div",null,null,"position: absolute; height: "+ci+"px; width: 1px;"),r.gutters=Zn("div",null,"CodeMirror-gutters"),r.lineGutter=null;var o=Zn("div",[r.sizer,r.heightForcer,r.gutters],null,"position: relative; min-height: 100%");return r.scroller=Zn("div",[o],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Zn("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.scroller],"CodeMirror"),yo&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),t.appendChild?t.appendChild(r.wrapper):t(r.wrapper),Vo&&(n.style.width="0px"),vo||(r.scroller.draggable=!0),Co?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):yo&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=e,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new In,r.cachedCharWidth=r.cachedTextHeight=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function r(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,A(e,100),e.state.modeGen++,e.curOp&&oe(e)}function n(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),p(t)),i(t),oe(t),B(t),setTimeout(function(){d(t.display,t.doc.height)},100)}function o(t){var e=X(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/Z(t.display)-3);return function(o){return Rr(t.doc,o)?0:r?(Math.ceil(o.text.length/n)||1)*e:e}}function i(t){var e=t.doc,r=o(t);e.iter(function(t){var e=r(t);e!=t.height&&hn(t,e)})}function s(t){var e=ti[t.options.keyMap].style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(e?" cm-keymap-"+e:"")}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),B(t)}function u(t){l(t),oe(t)}function l(t){var e=t.display.gutters,r=t.options.gutters;Qn(e);for(var n=0;r.length>n;++n){var o=r[n],i=e.appendChild(Zn("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(t.display.lineGutter=i,i.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none"}function c(t,e){if(0==e.height)return 0;for(var r,n=e.text.length,o=e;r=Mr(o);){var i=r.find();o=ln(t,i.from.line),n+=i.from.ch-i.to.ch}for(o=e;r=Wr(o);){var i=r.find();n-=o.text.length-i.from.ch,o=ln(t,i.to.line),n+=o.text.length-i.to.ch}return n}function p(t){var e=t.display,r=t.doc;e.maxLine=ln(r,r.first),e.maxLineLength=c(r,e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var n=c(r,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function h(t){for(var e=!1,r=0;t.gutters.length>r;++r)"CodeMirror-linenumbers"==t.gutters[r]&&(t.lineNumbers?e=!0:t.gutters.splice(r--,1));!e&&t.lineNumbers&&t.gutters.push("CodeMirror-linenumbers")}function d(t,e){var r=e+R(t);t.sizer.style.minHeight=t.heightForcer.style.top=r+"px";var n=Math.max(r,t.scroller.scrollHeight),o=t.scroller.scrollWidth>t.scroller.clientWidth,i=n>t.scroller.clientHeight;i?(t.scrollbarV.style.display="block",t.scrollbarV.style.bottom=o?no(t.measure)+"px":"0",t.scrollbarV.firstChild.style.height=n-t.scroller.clientHeight+t.scrollbarV.clientHeight+"px"):t.scrollbarV.style.display="",o?(t.scrollbarH.style.display="block",t.scrollbarH.style.right=i?no(t.measure)+"px":"0",t.scrollbarH.firstChild.style.width=t.scroller.scrollWidth-t.scroller.clientWidth+t.scrollbarH.clientWidth+"px"):t.scrollbarH.style.display="",o&&i?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=t.scrollbarFiller.style.width=no(t.measure)+"px"):t.scrollbarFiller.style.display="",So&&0===no(t.measure)&&(t.scrollbarV.style.minWidth=t.scrollbarH.style.minHeight=Eo?"18px":"12px")
}function f(t,e,r){var n=t.scroller.scrollTop,o=t.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,o=r.bottom-r.top),n=Math.floor(n-N(t));var i=Math.ceil(n+o);return{from:fn(e,n),to:fn(e,i)}}function _(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=m(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,o=r+"px",i=e.lineDiv.firstChild;i;i=i.nextSibling)if(i.alignable)for(var s=0,a=i.alignable;a.length>s;++s)a[s].style.left=o;t.options.fixedGutter&&(e.gutters.style.left=r+n+"px")}}function g(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=y(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var o=n.measure.appendChild(Zn("div",[Zn("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,s=o.offsetWidth-i;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(i,n.lineGutter.offsetWidth-s),n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function y(t,e){return t.lineNumberFormatter(e+t.firstLineNumber)+""}function m(t){return ro(t.scroller).left-ro(t.sizer).left}function v(t,e,r){for(var n,o=t.display.showingFrom,i=t.display.showingTo,s=f(t.display,t.doc,r);w(t,e,s)&&(n=!0,Hn(t,"update",t),(t.display.showingFrom!=o||t.display.showingTo!=i)&&Hn(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo),k(t),d(t.display,t.doc.height),r&&(r=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,"number"==typeof r?r:r.top)),s=f(t.display,t.doc,r),!(s.from>=t.display.showingFrom&&s.to<=t.display.showingTo));)e=[];return n}function w(t,e,r){var n=t.display,o=t.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=o.first,n.viewOffset=0,void 0;if(!(0==e.length&&r.from>n.showingFrom&&r.to<n.showingTo)){g(t)&&(e=[{from:o.first,to:o.first+o.size}]);var i=n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";n.scrollbarH.style.left=t.options.fixedGutter?i:"0";var s=1/0;if(t.options.lineNumbers)for(var a=0;e.length>a;++a)if(e[a].diff){s=e[a].from;break}var u=o.first+o.size,l=Math.max(r.from-t.options.viewportMargin,o.first),c=Math.min(u,r.to+t.options.viewportMargin);if(l>n.showingFrom&&20>l-n.showingFrom&&(l=Math.max(o.first,n.showingFrom)),n.showingTo>c&&20>n.showingTo-c&&(c=Math.min(u,n.showingTo)),Do)for(l=dn(Nr(o,ln(o,l)));u>c&&Rr(o,ln(o,c));)++c;var p=[{from:Math.max(n.showingFrom,o.first),to:Math.min(n.showingTo,u)}];if(p=p[0].from>=p[0].to?[]:x(p,e),Do)for(var a=0;p.length>a;++a)for(var h,d=p[a];h=Wr(ln(o,d.to-1));){var f=h.find().from.line;if(!(f>d.from)){p.splice(a--,1);break}d.to=f}for(var _=0,a=0;p.length>a;++a){var d=p[a];l>d.from&&(d.from=l),d.to>c&&(d.to=c),d.from>=d.to?p.splice(a--,1):_+=d.to-d.from}if(_==c-l&&l==n.showingFrom&&c==n.showingTo)return b(t),void 0;p.sort(function(t,e){return t.from-e.from});try{var y=document.activeElement}catch(m){}.7*(c-l)>_&&(n.lineDiv.style.display="none"),C(t,l,c,p,s),n.lineDiv.style.display="",y&&document.activeElement!=y&&y.offsetHeight&&y.focus();var v=l!=n.showingFrom||c!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;v&&(n.lastSizeC=n.wrapper.clientHeight),n.showingFrom=l,n.showingTo=c,A(t,100);for(var w,P=n.lineDiv.offsetTop,S=n.lineDiv.firstChild;S;S=S.nextSibling)if(S.lineObj){if(yo){var E=S.offsetTop+S.offsetHeight;w=E-P,P=E}else{var k=ro(S);w=k.bottom-k.top}var V=S.lineObj.height-w;if(2>w&&(w=X(n)),V>.001||-.001>V){hn(S.lineObj,w);var O=S.lineObj.widgets;if(O)for(var a=0;O.length>a;++a)O[a].height=O[a].node.offsetHeight}}return b(t),!0}}function b(t){var e=t.display.viewOffset=_n(t,ln(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function x(t,e){for(var r=0,n=e.length||0;n>r;++r){for(var o=e[r],i=[],s=o.diff||0,a=0,u=t.length;u>a;++a){var l=t[a];o.to<=l.from&&o.diff?i.push({from:l.from+s,to:l.to+s}):o.to<=l.from||o.from>=l.to?i.push(l):(o.from>l.from&&i.push({from:l.from,to:o.from}),o.to<l.to&&i.push({from:o.to+s,to:l.to+s}))}t=i}return t}function P(t){for(var e=t.display,r={},n={},o=e.gutters.firstChild,i=0;o;o=o.nextSibling,++i)r[t.options.gutters[i]]=o.offsetLeft,n[t.options.gutters[i]]=o.offsetWidth;return{fixedPos:m(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function C(t,e,r,n,o){function i(e){var r=e.nextSibling;return vo&&To&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),r}var s=P(t),a=t.display,u=t.options.lineNumbers;n.length||vo&&t.display.currentWheelTarget||Qn(a.lineDiv);var l=a.lineDiv,c=l.firstChild,p=n.shift(),h=e;for(t.doc.iter(e,r,function(e){if(p&&p.to==h&&(p=n.shift()),Rr(t.doc,e)){if(0!=e.height&&hn(e,0),e.widgets&&c.previousSibling)for(var r=0;e.widgets.length>r;++r)if(e.widgets[r].showIfHidden){var a=c.previousSibling;if(/pre/i.test(a.nodeName)){var d=Zn("div",null,null,"position: relative");a.parentNode.replaceChild(d,a),d.appendChild(a),a=d}var f=a.appendChild(Zn("div",[e.widgets[r].node],"CodeMirror-linewidget"));E(e.widgets[r],f,a,s)}}else if(p&&h>=p.from&&p.to>h){for(;c.lineObj!=e;)c=i(c);u&&h>=o&&c.lineNumber&&eo(c.lineNumber,y(t.options,h)),c=c.nextSibling}else{if(e.widgets)for(var _,g=0,m=c;m&&20>g;++g,m=m.nextSibling)if(m.lineObj==e&&/div/i.test(m.nodeName)){_=m;break}var v=S(t,e,h,s,_);if(v!=_)l.insertBefore(v,c);else{for(;c!=_;)c=i(c);c=c.nextSibling}v.lineObj=e}++h});c;)c=i(c)}function S(t,e,r,n,o){var i,s=Xr(t,e),a=e.gutterMarkers,u=t.display;if(!(t.options.lineNumbers||a||e.bgClass||e.wrapClass||e.widgets))return s;if(o){o.alignable=null;for(var l,c=!0,p=0,h=o.firstChild;h;h=l)if(l=h.nextSibling,/\bCodeMirror-linewidget\b/.test(h.className)){for(var d=0,f=!0;e.widgets.length>d;++d){var _=e.widgets[d],g=!1;if(_.above||(g=f,f=!1),_.node==h.firstChild){E(_,h,o,n),++p,g&&o.insertBefore(s,h);break}}if(d==e.widgets.length){c=!1;break}}else o.removeChild(h);c&&p==e.widgets.length&&(i=o,o.className=e.wrapClass||"")}if(i||(i=Zn("div",null,e.wrapClass,"position: relative"),i.appendChild(s)),e.bgClass&&i.insertBefore(Zn("div",null,e.bgClass+" CodeMirror-linebackground"),i.firstChild),t.options.lineNumbers||a){var m=i.insertBefore(Zn("div",null,null,"position: absolute; left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),i.firstChild);if(t.options.fixedGutter&&(i.alignable||(i.alignable=[])).push(m),!t.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(i.lineNumber=m.appendChild(Zn("div",y(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+u.lineNumInnerWidth+"px"))),a)for(var v=0;t.options.gutters.length>v;++v){var w=t.options.gutters[v],b=a.hasOwnProperty(w)&&a[w];b&&m.appendChild(Zn("div",[b],"CodeMirror-gutter-elt","left: "+n.gutterLeft[w]+"px; width: "+n.gutterWidth[w]+"px"))}}if(yo&&(i.style.zIndex=2),e.widgets&&i!=o)for(var d=0,x=e.widgets;x.length>d;++d){var _=x[d],P=Zn("div",[_.node],"CodeMirror-linewidget");E(_,P,i,n),_.above?i.insertBefore(P,t.options.lineNumbers&&0!=e.height?m:s):i.appendChild(P),Hn(_,"redraw")}return i}function E(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var o=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(o-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=o+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function k(t){var e=t.display,r=ze(t.doc.sel.from,t.doc.sel.to);if(r||t.options.showCursorWhenSelecting?V(t):e.cursor.style.display=e.otherCursor.style.display="none",r?e.selectionDiv.style.display="none":O(t),t.options.moveInputWithCursor){var n=U(t,t.doc.sel.head,"div"),o=ro(e.wrapper),i=ro(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+i.top-o.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+i.left-o.left))+"px"}}function V(t){var e=t.display,r=U(t,t.doc.sel.head,"div");e.cursor.style.left=r.left+"px",e.cursor.style.top=r.top+"px",e.cursor.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",e.cursor.style.display="",r.other?(e.otherCursor.style.display="",e.otherCursor.style.left=r.other.left+"px",e.otherCursor.style.top=r.other.top+"px",e.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):e.otherCursor.style.display="none"}function O(t){function e(t,e,r,n){0>e&&(e=0),s.appendChild(Zn("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==r?a-t:r)+"px; height: "+(n-e)+"px"))}function r(r,n,i,s){function l(e){return F(t,$e(r,e),"div",c)}var c=ln(o,r),p=c.text.length,h=s?1/0:-1/0;return io(gn(c),n||0,null==i?p:i,function(t,r,o){var c,d,f,_=l(t);if(t==r)c=_,d=f=_.left;else{if(c=l(r-1),"rtl"==o){var g=_;_=c,c=g}d=_.left,f=c.right}c.top-_.top>3&&(e(d,_.top,null,_.bottom),d=u,_.bottom<c.top&&e(d,_.bottom,null,c.top)),null==i&&r==p&&(f=a),null==n&&0==t&&(d=u),h=s?Math.min(c.top,h):Math.max(c.bottom,h),u+1>d&&(d=u),e(d,c.top,f-d,c.bottom)}),h}var n=t.display,o=t.doc,i=t.doc.sel,s=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,u=H(t.display);if(i.from.line==i.to.line)r(i.from.line,i.from.ch,i.to.ch);else{for(var l,c,p=ln(o,i.from.line),h=p,d=[i.from.line,i.from.ch];l=Wr(h);){var f=l.find();if(d.push(f.from.ch,f.to.line,f.to.ch),f.to.line==i.to.line){d.push(i.to.ch),c=!0;break}h=ln(o,f.to.line)}if(c)for(var _=0;d.length>_;_+=3)r(d[_],d[_+1],d[_+2]);else{var g,y,m=ln(o,i.to.line);g=i.from.ch?r(i.from.line,i.from.ch,null,!1):_n(t,p)-n.viewOffset,y=i.to.ch?r(i.to.line,Mr(m)?null:0,i.to.ch,!0):_n(t,m)-n.viewOffset,y>g&&e(u,g,null,y)}}to(n.selectionDiv,s),n.selectionDiv.style.display=""}function T(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",e.blinker=setInterval(function(){e.cursor.style.visibility=e.otherCursor.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate)}}function A(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,Gn(L,t))}function L(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var r,n=+new Date+t.options.workTime,o=dr(e.mode,W(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(s){if(e.frontier>=t.display.showingFrom){var a=s.styles;s.styles=Ur(t,s,o);for(var u=!a||a.length!=s.styles.length,l=0;!u&&a.length>l;++l)u=a[l]!=s.styles[l];u&&(r&&r.end==e.frontier?r.end++:i.push(r={start:e.frontier,end:e.frontier+1})),s.stateAfter=dr(e.mode,o)}else Gr(t,s,o),s.stateAfter=0==e.frontier%5?dr(e.mode,o):null;return++e.frontier,+new Date>n?(A(t,t.options.workDelay),!0):void 0}),i.length&&ee(t,function(){for(var t=0;i.length>t;++t)oe(this,i[t].start,i[t].end)})()}}function M(t,e){for(var r,n,o=t.doc,i=e,s=e-100;i>s;--i){if(o.first>=i)return o.first;var a=ln(o,i-1);if(a.stateAfter)return i;var u=$n(a.text,null,t.options.tabSize);(null==n||r>u)&&(n=i-1,r=u)}return n}function W(t,e){var r=t.doc,n=t.display;if(!r.mode.startState)return!0;var o=M(t,e),i=o>r.first&&ln(r,o-1).stateAfter;return i=i?dr(r.mode,i):fr(r.mode),r.iter(o,e,function(s){Gr(t,s,i);var a=o==e-1||0==o%5||o>=n.showingFrom&&n.showingTo>o;s.stateAfter=a?dr(r.mode,i):null,++o}),i}function N(t){return t.lineSpace.offsetTop}function R(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function H(t){var e=to(t.measure,Zn("pre",null,null,"text-align: left")).appendChild(Zn("span","x"));return e.offsetLeft}function j(t,e,r,n){var o=-1;n=n||I(t,e);for(var i=r;;i+=o){var s=n[i];if(s)break;0>o&&0==i&&(o=1)}return{left:r>i?s.right:s.left,right:i>r?s.left:s.right,top:s.top,bottom:s.bottom}}function D(t,e){for(var r=t.display.measureLineCache,n=0;r.length>n;++n){var o=r[n];if(o.text==e.text&&o.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==o.width&&o.classes==e.textClass+"|"+e.bgClass+"|"+e.wrapClass)return o.measure}}function I(t,e){var r=D(t,e);if(!r){r=$(t,e);var n=t.display.measureLineCache,o={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:r,classes:e.textClass+"|"+e.bgClass+"|"+e.wrapClass};16==n.length?n[++t.display.measureLineCachePos%16]=o:n.push(o)}return r}function $(t,e){var r=t.display,n=Yn(e.text.length),o=Xr(t,e,n);if(go&&!yo&&!t.options.lineWrapping&&o.childNodes.length>100){for(var i=document.createDocumentFragment(),s=10,a=o.childNodes.length,u=0,l=Math.ceil(a/s);l>u;++u){for(var c=Zn("div",null,null,"display: inline-block"),p=0;s>p&&a;++p)c.appendChild(o.firstChild),--a;i.appendChild(c)}o.appendChild(i)}to(r.measure,o);var h=ro(r.lineDiv),d=[],f=Yn(e.text.length),_=o.offsetHeight;mo&&r.measure.first!=o&&to(r.measure,o);for(var g,u=0;n.length>u;++u)if(g=n[u]){for(var y=ro(g),m=Math.max(0,y.top-h.top),v=Math.min(y.bottom-h.top,_),p=0;d.length>p;p+=2){var w=d[p],b=d[p+1];if(!(w>v||m>b)&&(m>=w&&b>=v||w>=m&&v>=b||Math.min(v,b)-Math.max(m,w)>=v-m>>1)){d[p]=Math.min(m,w),d[p+1]=Math.max(v,b);break}}p==d.length&&d.push(m,v);var x=y.right;g.measureRight&&(x=ro(g.measureRight).left),f[u]={left:y.left-h.left,right:x-h.left,top:p}}for(var g,u=0;f.length>u;++u)if(g=f[u]){var P=g.top;g.top=d[P],g.bottom=d[P+1]}return f}function z(t,e){var r=!1;if(e.markedSpans)for(var n=0;e.markedSpans>n;++n){var o=e.markedSpans[n];!o.collapsed||null!=o.to&&o.to!=e.text.length||(r=!0)}var i=!r&&D(t,e);if(i)return j(t,e,e.text.length,i).right;var s=Xr(t,e),a=s.appendChild(oo(t.display.measure));return to(t.display.measure,s),ro(a).right-ro(t.display.lineDiv).left}function B(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function q(t,e,r,n){if(e.widgets)for(var o=0;e.widgets.length>o;++o)if(e.widgets[o].above){var i=$r(e.widgets[o]);r.top+=i,r.bottom+=i}if("line"==n)return r;n||(n="local");var s=_n(t,e);if("local"!=n&&(s-=t.display.viewOffset),"page"==n){var a=ro(t.display.lineSpace);s+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var u=a.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);r.left+=u,r.right+=u}return r.top+=s,r.bottom+=s,r}function J(t,e,r){if("div"==r)return e;var n=e.left,o=e.top;"page"==r&&(n-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,o-=window.pageYOffset||(document.documentElement||document.body).scrollTop);var i=ro(t.display.lineSpace);if(n-=i.left,o-=i.top,"local"==r||!r){var s=ro(t.display.wrapper);n+=s.left,o+=s.top}return{left:n,top:o}}function F(t,e,r,n){return n||(n=ln(t.doc,e.line)),q(t,n,j(t,n,e.ch),r)}function U(t,e,r,n,o){function i(e,i){var s=j(t,n,e,o);return i?s.left=s.right:s.right=s.left,q(t,n,s,r)}n=n||ln(t.doc,e.line),o||(o=I(t,n));var s=gn(n),a=e.ch;if(!s)return i(a);for(var u,l,c=s[0].level,p=0;s.length>p;++p){var h,d,f=s[p],_=f.level%2;if(a>f.from&&f.to>a)return i(a,_);var g=_?f.to:f.from,y=_?f.from:f.to;if(g==a)d=p&&f.level<(h=s[p-1]).level?i(h.level%2?h.from:h.to-1,!0):i(_&&f.from!=f.to?a-1:a),_==c?u=d:l=d;else if(y==a){var h=s.length-1>p&&s[p+1];if(!_&&h&&h.from==h.to)continue;d=h&&f.level<h.level?i(h.level%2?h.to-1:h.from):i(_?a:a-1,!0),_==c?u=d:l=d}}return c&&!a&&(l=i(s[0].to-1)),u?(l&&(u.other=l),u):l}function Y(t,e,r){var n=new $e(t,e);return r&&(n.outside=!0),n}function G(t,e,r){var n=t.doc;if(r+=t.display.viewOffset,0>r)return Y(n.first,0,!0);var o=fn(n,r),i=n.first+n.size-1;if(o>i)return Y(n.first+n.size-1,ln(n,i).text.length,!0);for(0>e&&(e=0);;){var s=ln(n,o),a=K(t,s,o,e,r),u=Wr(s),l=u&&u.find();if(!(u&&a.ch>=l.from.ch))return a;o=l.to.line}}function K(t,e,r,n,o){function i(n){var o=U(t,$e(r,n),"line",e,l);return a=!0,s>o.bottom?o.left-u:o.top>s?o.left+u:(a=!1,o.left)}var s=o-_n(t,e),a=!1,u=2*t.display.wrapper.clientWidth,l=I(t,e),c=gn(e),p=e.text.length,h=uo(e),d=lo(e),f=i(h),_=a,g=i(d),y=a;if(n>g)return Y(r,d,y);for(;;){if(c?d==h||d==ho(e,h,1):1>=d-h){for(var m=g-n>n-f,v=m?h:d;fi.test(e.text.charAt(v));)++v;var w=Y(r,v,m?_:y);return w.after=m,w}var b=Math.ceil(p/2),x=h+b;if(c){x=h;for(var P=0;b>P;++P)x=ho(e,x,1)}var C=i(x);C>n?(d=x,g=C,(y=a)&&(g+=1e3),p=b):(h=x,f=C,_=a,p-=b)}}function X(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Mo){Mo=Zn("pre");for(var e=0;49>e;++e)Mo.appendChild(document.createTextNode("x")),Mo.appendChild(Zn("br"));Mo.appendChild(document.createTextNode("x"))}to(t.measure,Mo);var r=Mo.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),Qn(t.measure),r||1}function Z(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Zn("span","x"),r=Zn("pre",[e]);to(t.measure,r);var n=e.offsetWidth;return n>2&&(t.cachedCharWidth=n),n||10}function Q(t){t.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Io},li++||(ui=[])}function te(t){var e=t.curOp,r=t.doc,n=t.display;if(t.curOp=null,e.updateMaxLine&&p(t),n.maxLineChanged&&!t.options.lineWrapping&&n.maxLine){var o=z(t,n.maxLine);n.sizer.style.minWidth=Math.max(0,o+3+ci)+"px",n.maxLineChanged=!1;var i=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);r.scrollLeft>i&&!e.updateScrollPos&&ve(t,Math.min(n.scroller.scrollLeft,i),!0)}var s,a;if(e.updateScrollPos)s=e.updateScrollPos;else if(e.selectionChanged&&n.scroller.clientHeight){var u=U(t,r.sel.head);s=nr(t,u.left,u.top,u.left,u.bottom)}(e.changes.length||s&&null!=s.scrollTop)&&(a=v(t,e.changes,s&&s.scrollTop),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!a&&e.selectionChanged&&k(t),e.updateScrollPos?(n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=s.scrollTop,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=s.scrollLeft,_(t),e.scrollToPos&&er(t,Fe(t.doc,e.scrollToPos),e.scrollToPosMargin)):s&&tr(t),e.selectionChanged&&T(t),t.state.focused&&e.updateInput&&ue(t,e.userSelChange);var l=e.maybeHiddenMarkers,c=e.maybeUnhiddenMarkers;if(l)for(var h=0;l.length>h;++h)l[h].lines.length||Rn(l[h],"hide");if(c)for(var h=0;c.length>h;++h)c[h].lines.length&&Rn(c[h],"unhide");var d;if(--li||(d=ui,ui=null),e.textChanged&&Rn(t,"change",t,e.textChanged),e.cursorActivity&&Rn(t,"cursorActivity",t),d)for(var h=0;d.length>h;++h)d[h]()}function ee(t,e){return function(){var r=t||this,n=!r.curOp;n&&Q(r);try{var o=e.apply(r,arguments)}finally{n&&te(r)}return o}}function re(t){return function(){var e,r=this.cm&&!this.cm.curOp;r&&Q(this.cm);try{e=t.apply(this,arguments)}finally{r&&te(this.cm)}return e}}function ne(t,e){var r,n=!t.curOp;n&&Q(t);try{r=e()}finally{n&&te(t)}return r}function oe(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:r,diff:n})}function ie(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){ae(t),t.state.focused&&ie(t)})}function se(t){function e(){var n=ae(t);n||r?(t.display.pollingFast=!1,ie(t)):(r=!0,t.display.poll.set(60,e))}var r=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function ae(t){var e=t.display.input,r=t.display.prevInput,n=t.doc,o=n.sel;if(!t.state.focused||wi(e)||ce(t))return!1;var i=e.value;if(i==r&&ze(o.from,o.to))return!1;if(go&&!mo&&t.display.inputHasSelection===i)return ue(t,!0),!1;var s=!t.curOp;s&&Q(t),o.shift=!1;for(var a=0,u=Math.min(r.length,i.length);u>a&&r.charCodeAt(a)==i.charCodeAt(a);)++a;var l=o.from,c=o.to;r.length>a?l=$e(l.line,l.ch-(r.length-a)):t.state.overwrite&&ze(l,c)&&!t.state.pasteIncoming&&(c=$e(c.line,Math.min(ln(n,c.line).text.length,c.ch+(i.length-a))));var p=t.curOp.updateInput;return We(t.doc,{from:l,to:c,text:vi(i.slice(a)),origin:t.state.pasteIncoming?"paste":"+input"},"end"),t.curOp.updateInput=p,i.length>1e3||i.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=i,s&&te(t),t.state.pasteIncoming=!1,!0}function ue(t,e){var r,n,o=t.doc;if(ze(o.sel.from,o.sel.to))e&&(t.display.prevInput=t.display.input.value="",go&&!mo&&(t.display.inputHasSelection=null));else{t.display.prevInput="",r=bi&&(o.sel.to.line-o.sel.from.line>100||(n=t.getSelection()).length>1e3);var i=r?"-":n||t.getSelection();t.display.input.value=i,t.state.focused&&qn(t.display.input),go&&!mo&&(t.display.inputHasSelection=i)}t.display.inaccurateSelection=r}function le(t){"nocursor"==t.options.readOnly||Oo&&document.activeElement==t.display.input||t.display.input.focus()}function ce(t){return t.options.readOnly||t.doc.cantEdit}function pe(t){function e(){t.state.focused&&setTimeout(Gn(le,t),0)}function r(){s.cachedCharWidth=s.cachedTextHeight=null,B(t),ne(t,Gn(oe,t))}function n(){for(var t=s.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(n,5e3):Nn(window,"resize",r)}function o(e){t.options.onDragEvent&&t.options.onDragEvent(t,Vn(e))||An(e)}function i(){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=t.getSelection(),qn(s.input))}var s=t.display;Wn(s.scroller,"mousedown",ee(t,fe)),go?Wn(s.scroller,"dblclick",ee(t,function(e){var r=de(t,e);if(r&&!ge(t,e)&&!he(t.display,e)){On(e);var n=cr(ln(t.doc,r.line).text,r);Ge(t.doc,n.from,n.to)}})):Wn(s.scroller,"dblclick",On),Wn(s.lineSpace,"selectstart",function(t){he(s,t)||On(t)}),Ho||Wn(s.scroller,"contextmenu",function(e){Oe(t,e)}),Wn(s.scroller,"scroll",function(){s.scroller.clientHeight&&(me(t,s.scroller.scrollTop),ve(t,s.scroller.scrollLeft,!0),Rn(t,"scroll",t))}),Wn(s.scrollbarV,"scroll",function(){s.scroller.clientHeight&&me(t,s.scrollbarV.scrollTop)}),Wn(s.scrollbarH,"scroll",function(){s.scroller.clientHeight&&ve(t,s.scrollbarH.scrollLeft)}),Wn(s.scroller,"mousewheel",function(e){we(t,e)}),Wn(s.scroller,"DOMMouseScroll",function(e){we(t,e)}),Wn(s.scrollbarH,"mousedown",e),Wn(s.scrollbarV,"mousedown",e),Wn(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),Wn(window,"resize",r),setTimeout(n,5e3),Wn(s.input,"keyup",ee(t,function(e){t.options.onKeyEvent&&t.options.onKeyEvent(t,Vn(e))||16==e.keyCode&&(t.doc.sel.shift=!1)})),Wn(s.input,"input",Gn(se,t)),Wn(s.input,"keydown",ee(t,Se)),Wn(s.input,"keypress",ee(t,Ee)),Wn(s.input,"focus",Gn(ke,t)),Wn(s.input,"blur",Gn(Ve,t)),t.options.dragDrop&&(Wn(s.scroller,"dragstart",function(e){ye(t,e)}),Wn(s.scroller,"dragenter",o),Wn(s.scroller,"dragover",o),Wn(s.scroller,"drop",ee(t,_e))),Wn(s.scroller,"paste",function(e){he(s,e)||(le(t),se(t))}),Wn(s.input,"paste",function(){t.state.pasteIncoming=!0,se(t)}),Wn(s.input,"cut",i),Wn(s.input,"copy",i),Co&&Wn(s.sizer,"mouseup",function(){document.activeElement==s.input&&s.input.blur(),le(t)})}function he(t,e){for(var r=Ln(e);r!=t.wrapper;r=r.parentNode){if(!r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(r.className)||r.parentNode==t.sizer&&r!=t.mover)return!0}}function de(t,e,r){var n=t.display;if(!r){var o=Ln(e);if(o==n.scrollbarH||o==n.scrollbarH.firstChild||o==n.scrollbarV||o==n.scrollbarV.firstChild||o==n.scrollbarFiller)return null}var i,s,a=ro(n.lineSpace);try{i=e.clientX,s=e.clientY}catch(e){return null}return G(t,i-a.left,s-a.top)}function fe(t){function e(t){if(!ze(y,t)){if(y=t,"single"==c)return Ge(o.doc,Fe(s,u),t),void 0;if(_=Fe(s,_),g=Fe(s,g),"double"==c){var e=cr(ln(s,t.line).text,t);Be(t,_)?Ge(o.doc,e.from,g):Ge(o.doc,_,e.to)}else"triple"==c&&(Be(t,_)?Ge(o.doc,g,Fe(s,$e(t.line,0))):Ge(o.doc,_,Fe(s,$e(t.line+1,0))))}}function r(t){var n=++v,a=de(o,t,!0);if(a)if(ze(a,h)){var u=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;u&&setTimeout(ee(o,function(){v==n&&(i.scroller.scrollTop+=u,r(t))}),50)}else{o.state.focused||ke(o),h=a,e(a);var l=f(i,s);(a.line>=l.to||a.line<l.from)&&setTimeout(ee(o,function(){v==n&&r(t)}),150)}}function n(t){v=1/0;var r=de(o,t);r&&e(r),On(t),le(o),Nn(document,"mousemove",w),Nn(document,"mouseup",b)}var o=this,i=o.display,s=o.doc,a=s.sel;if(a.shift=t.shiftKey,he(i,t))return vo||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)),void 0;if(!ge(o,t)){var u=de(o,t);switch(Mn(t)){case 3:return Ho&&Oe.call(o,o,t),void 0;case 2:return u&&Ge(o.doc,u),setTimeout(Gn(le,o),20),On(t),void 0}if(!u)return Ln(t)==i.scroller&&On(t),void 0;o.state.focused||ke(o);var l=+new Date,c="single";if(No&&No.time>l-400&&ze(No.pos,u))c="triple",On(t),setTimeout(Gn(le,o),20),pr(o,u.line);else if(Wo&&Wo.time>l-400&&ze(Wo.pos,u)){c="double",No={time:l,pos:u},On(t);var p=cr(ln(s,u.line).text,u);Ge(o.doc,p.from,p.to)}else Wo={time:l,pos:u};var h=u;if(o.options.dragDrop&&_i&&!ce(o)&&!ze(a.from,a.to)&&!Be(u,a.from)&&!Be(a.to,u)&&"single"==c){var d=ee(o,function(e){vo&&(i.scroller.draggable=!1),o.state.draggingText=!1,Nn(document,"mouseup",d),Nn(i.scroller,"drop",d),10>Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)&&(On(e),Ge(o.doc,u),le(o))});return vo&&(i.scroller.draggable=!0),o.state.draggingText=d,i.scroller.dragDrop&&i.scroller.dragDrop(),Wn(document,"mouseup",d),Wn(i.scroller,"drop",d),void 0}On(t),"single"==c&&Ge(o.doc,Fe(s,u));var _=a.from,g=a.to,y=u,m=ro(i.wrapper),v=0,w=ee(o,function(t){go||Mn(t)?r(t):n(t)}),b=ee(o,n);Wn(document,"mousemove",w),Wn(document,"mouseup",b)}}function _e(t){var e=this;if(!(he(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,Vn(t)))){On(t);var r=de(e,t,!0),n=t.dataTransfer.files;if(r&&!ce(e))if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,i=Array(o),s=0,a=function(t,n){var a=new FileReader;a.onload=function(){i[n]=a.result,++s==o&&(r=Fe(e.doc,r),We(e.doc,{from:r,to:r,text:vi(i.join("\n")),origin:"paste"},"around"))},a.readAsText(t)},u=0;o>u;++u)a(n[u],u);else{if(e.state.draggingText&&!Be(r,e.doc.sel.from)&&!Be(e.doc.sel.to,r))return e.state.draggingText(t),setTimeout(Gn(le,e),20),void 0;try{var i=t.dataTransfer.getData("Text");if(i){var l=e.doc.sel.from,c=e.doc.sel.to;Xe(e.doc,r,r),e.state.draggingText&&Ie(e.doc,"",l,c,"paste"),e.replaceSelection(i,null,"paste"),le(e),ke(e)}}catch(t){}}}}function ge(t,e){var r=t.display;try{var n=e.clientX,o=e.clientY}catch(e){return!1}if(n>=Math.floor(ro(r.gutters).right))return!1;if(On(e),!Dn(t,"gutterClick"))return!0;var i=ro(r.lineDiv);if(o>i.bottom)return!0;o-=i.top-r.viewOffset;for(var s=0;t.options.gutters.length>s;++s){var a=r.gutters.childNodes[s];if(a&&ro(a).right>=n){var u=fn(t.doc,o),l=t.options.gutters[s];Hn(t,"gutterClick",t,u,l,e);break}}return!0}function ye(t,e){if(go&&!t.state.draggingText)return An(e),void 0;if(!he(t.display,e)){var r=t.getSelection();if(e.dataTransfer.setData("Text",r),e.dataTransfer.setDragImage){var n=Zn("img",null,null,"position: fixed; left: 0; top: 0;");xo&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),Po&&(t.display.dragImg?n=t.display.dragImg:(t.display.dragImg=n,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t.display.wrapper.appendChild(n))),e.dataTransfer.setDragImage(n,0,0),xo&&n.parentNode.removeChild(n)}}}function me(t,e){2>Math.abs(t.doc.scrollTop-e)||(t.doc.scrollTop=e,_o||v(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),_o&&v(t,[]))}function ve(t,e,r){(r?e==t.doc.scrollLeft:2>Math.abs(t.doc.scrollLeft-e))||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,_(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function we(t,e){var r=e.wheelDeltaX,n=e.wheelDeltaY;null==r&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(r=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta);var o=t.display,i=o.scroller;if(r&&i.scrollWidth>i.clientWidth||n&&i.scrollHeight>i.clientHeight){if(n&&To&&vo)for(var s=e.target;s!=i;s=s.parentNode)if(s.lineObj){t.display.currentWheelTarget=s;break}if(r&&!_o&&!xo&&null!=zo)return n&&me(t,Math.max(0,Math.min(i.scrollTop+n*zo,i.scrollHeight-i.clientHeight))),ve(t,Math.max(0,Math.min(i.scrollLeft+r*zo,i.scrollWidth-i.clientWidth))),On(e),o.wheelStartX=null,void 0;if(n&&null!=zo){var a=n*zo,u=t.doc.scrollTop,l=u+o.wrapper.clientHeight;0>a?u=Math.max(0,u+a-50):l=Math.min(t.doc.height,l+a+50),v(t,[],{top:u,bottom:l})}20>$o&&(null==o.wheelStartX?(o.wheelStartX=i.scrollLeft,o.wheelStartY=i.scrollTop,o.wheelDX=r,o.wheelDY=n,setTimeout(function(){if(null!=o.wheelStartX){var t=i.scrollLeft-o.wheelStartX,e=i.scrollTop-o.wheelStartY,r=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(zo=(zo*$o+r)/($o+1),++$o)}},200)):(o.wheelDX+=r,o.wheelDY+=n))}}function be(t,e,r){if("string"==typeof e&&(e=Qo[e],!e))return!1;t.display.pollingFast&&ae(t)&&(t.display.pollingFast=!1);var n=t.doc,o=n.sel.shift,i=!1;try{ce(t)&&(t.state.suppressEdits=!0),r&&(n.sel.shift=!1),i=e(t)!=pi}finally{n.sel.shift=o,t.state.suppressEdits=!1}return i}function xe(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function Pe(t,e){var r=_r(t.options.keyMap),n=r.auto;clearTimeout(Bo),n&&!yr(e)&&(Bo=setTimeout(function(){_r(t.options.keyMap)==r&&(t.options.keyMap=n.call?n.call(null,t):n)},50));var o=mr(e,!0),i=!1;if(!o)return!1;var s=xe(t);return i=e.shiftKey?gr("Shift-"+o,s,function(e){return be(t,e,!0)})||gr(o,s,function(e){return"string"==typeof e&&/^go[A-Z]/.test(e)?be(t,e):void 0}):gr(o,s,function(e){return be(t,e)}),"stop"==i&&(i=!1),i&&(On(e),T(t),mo&&(e.oldKeyCode=e.keyCode,e.keyCode=0)),i}function Ce(t,e,r){var n=gr("'"+r+"'",xe(t),function(e){return be(t,e,!0)});return n&&(On(e),T(t)),n}function Se(t){var e=this;if(e.state.focused||ke(e),go&&27==t.keyCode&&(t.returnValue=!1),!e.options.onKeyEvent||!e.options.onKeyEvent(e,Vn(t))){var r=t.keyCode;e.doc.sel.shift=16==r||t.shiftKey;var n=Pe(e,t);xo&&(Jo=n?r:null,!n&&88==r&&!bi&&(To?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function Ee(t){var e=this;if(!e.options.onKeyEvent||!e.options.onKeyEvent(e,Vn(t))){var r=t.keyCode,n=t.charCode;if(xo&&r==Jo)return Jo=null,On(t),void 0;if(!(xo&&(!t.which||10>t.which)||Co)||!Pe(e,t)){var o=String.fromCharCode(null==n?r:n);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!ce(this)&&this.doc.mode.electricChars.indexOf(o)>-1&&setTimeout(ee(e,function(){sr(e,e.doc.sel.to.line,"smart")}),75),Ce(e,t,o)||(go&&!mo&&(e.display.inputHasSelection=null),se(e))}}}function ke(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Rn(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),ue(t,!0)),ie(t),T(t))}function Ve(t){t.state.focused&&(Rn(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function Oe(t,e){function r(){if(n.inputDiv.style.position="relative",n.input.style.cssText=a,mo&&(n.scrollbarV.scrollTop=n.scroller.scrollTop=s),ie(t),null!=n.input.selectionStart&&(!go||mo)){clearTimeout(qo);var e=n.input.value=" "+(ze(o.from,o.to)?"":n.input.value),r=0;n.prevInput=" ",n.input.selectionStart=1,n.input.selectionEnd=e.length;var i=function(){" "==n.prevInput&&0==n.input.selectionStart?ee(t,Qo.selectAll)(t):10>r++?qo=setTimeout(i,500):ue(t)};qo=setTimeout(i,200)}}var n=t.display,o=t.doc.sel;if(!he(n,e)){var i=de(t,e),s=n.scroller.scrollTop;if(i&&!xo){(ze(o.from,o.to)||Be(i,o.from)||!Be(i,o.to))&&ee(t,Xe)(t.doc,i,i);var a=n.input.style.cssText;if(n.inputDiv.style.position="absolute",n.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",le(t),ue(t,!0),ze(o.from,o.to)&&(n.input.value=n.prevInput=" "),Ho){An(e);var u=function(){Nn(window,"mouseup",u),setTimeout(r,20)};Wn(window,"mouseup",u)}else setTimeout(r,50)}}}function Te(t){return t.text?$e(t.from.line+t.text.length-1,Bn(t.text).length+(1==t.text.length?t.from.ch:0)):t.to
}function Ae(t,e,r){if(!Be(e.from,r))return Fe(t,r);var n=e.text.length-1-(e.to.line-e.from.line);if(r.line>e.to.line+n){var o=r.line-n,i=t.first+t.size-1;return o>i?$e(i,ln(t,i).text.length):Ue(r,ln(t,o).text.length)}if(r.line==e.to.line+n)return Ue(r,Bn(e.text).length+(1==e.text.length?e.from.ch:0)+ln(t,e.to.line).text.length-e.to.ch);var s=r.line-e.from.line;return Ue(r,e.text[s].length+(s?0:e.from.ch))}function Le(t,e,r){if(r&&"object"==typeof r)return{anchor:Ae(t,e,r.anchor),head:Ae(t,e,r.head)};if("start"==r)return{anchor:e.from,head:e.from};var n=Te(e);if("around"==r)return{anchor:e.from,head:n};if("end"==r)return{anchor:n,head:n};var o=function(t){if(Be(t,e.from))return t;if(!Be(e.to,t))return n;var r=t.line+e.text.length-(e.to.line-e.from.line)-1,o=t.ch;return t.line==e.to.line&&(o+=n.ch-e.to.ch),$e(r,o)};return{anchor:o(t.sel.anchor),head:o(t.sel.head)}}function Me(t,e){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,update:function(e,r,n,o){e&&(this.from=Fe(t,e)),r&&(this.to=Fe(t,r)),n&&(this.text=n),void 0!==o&&(this.origin=o)},cancel:function(){this.canceled=!0}};return Rn(t,"beforeChange",t,r),t.cm&&Rn(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function We(t,e,r,n){if(t.cm){if(!t.cm.curOp)return ee(t.cm,We)(t,e,r,n);if(t.cm.state.suppressEdits)return}if(!(Dn(t,"beforeChange")||t.cm&&Dn(t.cm,"beforeChange"))||(e=Me(t,e))){var o=jo&&!n&&Ar(t,e.from,e.to);if(o){for(var i=o.length-1;i>=1;--i)Ne(t,{from:o[i].from,to:o[i].to,text:[""]});o.length&&Ne(t,{from:o[0].from,to:o[0].to,text:e.text},r)}else Ne(t,e,r)}}function Ne(t,e,r){var n=Le(t,e,r);wn(t,e,n,t.cm?t.cm.curOp.id:0/0),je(t,e,n,Or(t,e));var o=[];an(t,function(t,r){r||-1!=Jn(o,t.history)||(En(t.history,e),o.push(t.history)),je(t,e,null,Or(t,e))})}function Re(t,e){if(!t.cm||!t.cm.state.suppressEdits){var r=t.history,n=("undo"==e?r.done:r.undone).pop();if(n){r.dirtyCounter+="undo"==e?-1:1;var o={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore};("undo"==e?r.undone:r.done).push(o);for(var i=n.changes.length-1;i>=0;--i){var s=n.changes[i];s.origin=e,o.changes.push(vn(t,s));var a=i?Le(t,s,null):{anchor:n.anchorBefore,head:n.headBefore};je(t,s,a,Tr(t,s));var u=[];an(t,function(t,e){e||-1!=Jn(u,t.history)||(En(t.history,s),u.push(t.history)),je(t,s,null,Tr(t,s))})}}}}function He(t,e){function r(t){return $e(t.line+e,t.ch)}t.first+=e,t.cm&&oe(t.cm,t.first,t.first,e),t.sel.head=r(t.sel.head),t.sel.anchor=r(t.sel.anchor),t.sel.from=r(t.sel.from),t.sel.to=r(t.sel.to)}function je(t,e,r,n){if(t.cm&&!t.cm.curOp)return ee(t.cm,je)(t,e,r,n);if(e.to.line<t.first)return He(t,e.text.length-1-(e.to.line-e.from.line)),void 0;if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var o=e.text.length-1-(t.first-e.from.line);He(t,o),e={from:$e(t.first,0),to:$e(e.to.line+o,e.to.ch),text:[Bn(e.text)],origin:e.origin}}var i=t.lastLine();e.to.line>i&&(e={from:e.from,to:$e(i,ln(t,i).text.length),text:[e.text[0]],origin:e.origin}),e.removed=cn(t,e.from,e.to),r||(r=Le(t,e,null)),t.cm?De(t.cm,e,n,r):nn(t,e,n,r)}}function De(t,e,r,n){var i=t.doc,s=t.display,a=e.from,u=e.to,l=!1,p=a.line;t.options.lineWrapping||(p=dn(Nr(i,ln(i,a.line))),i.iter(p,u.line+1,function(t){return t==s.maxLine?(l=!0,!0):void 0})),Be(i.sel.head,e.from)||Be(e.to,i.sel.head)||(t.curOp.cursorActivity=!0),nn(i,e,r,n,o(t)),t.options.lineWrapping||(i.iter(p,a.line+e.text.length,function(t){var e=c(i,t);e>s.maxLineLength&&(s.maxLine=t,s.maxLineLength=e,s.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,a.line),A(t,400);var h=e.text.length-(u.line-a.line)-1;if(oe(t,a.line,u.line+1,h),Dn(t,"change")){var d={from:a,to:u,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var f=t.curOp.textChanged;f.next;f=f.next);f.next=d}else t.curOp.textChanged=d}}function Ie(t,e,r,n,o){if(n||(n=r),Be(n,r)){var i=n;n=r,r=i}"string"==typeof e&&(e=vi(e)),We(t,{from:r,to:n,text:e,origin:o},null)}function $e(t,e){return this instanceof $e?(this.line=t,this.ch=e,void 0):new $e(t,e)}function ze(t,e){return t.line==e.line&&t.ch==e.ch}function Be(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function qe(t){return $e(t.line,t.ch)}function Je(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Fe(t,e){if(e.line<t.first)return $e(t.first,0);var r=t.first+t.size-1;return e.line>r?$e(r,ln(t,r).text.length):Ue(e,ln(t,e.line).text.length)}function Ue(t,e){var r=t.ch;return null==r||r>e?$e(t.line,e):0>r?$e(t.line,0):t}function Ye(t,e){return e>=t.first&&t.first+t.size>e}function Ge(t,e,r,n){if(t.sel.shift||t.sel.extend){var o=t.sel.anchor;if(r){var i=Be(e,o);i!=Be(r,o)?(o=e,e=r):i!=Be(e,r)&&(e=r)}Xe(t,o,e,n)}else Xe(t,e,r||e,n);t.cm&&(t.cm.curOp.userSelChange=!0)}function Ke(t,e,r){var n={anchor:e,head:r};return Rn(t,"beforeSelectionChange",t,n),t.cm&&Rn(t.cm,"beforeSelectionChange",t.cm,n),n.anchor=Fe(t,n.anchor),n.head=Fe(t,n.head),n}function Xe(t,e,r,n,o){if(!o&&Dn(t,"beforeSelectionChange")||t.cm&&Dn(t.cm,"beforeSelectionChange")){var i=Ke(t,e,r);r=i.head,e=i.anchor}var s=t.sel;if(s.goalColumn=null,(o||!ze(e,s.anchor))&&(e=Qe(t,e,n,"push"!=o)),(o||!ze(r,s.head))&&(r=Qe(t,r,n,"push"!=o)),!ze(s.anchor,e)||!ze(s.head,r)){s.anchor=e,s.head=r;var a=Be(r,e);s.from=a?r:e,s.to=a?e:r,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),Hn(t,"cursorActivity",t)}}function Ze(t){Xe(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function Qe(t,e,r,n){var o=!1,i=e,s=r||1;t.cantEdit=!1;t:for(;;){var a=ln(t,i.line);if(a.markedSpans)for(var u=0;a.markedSpans.length>u;++u){var l=a.markedSpans[u],c=l.marker;if((null==l.from||(c.inclusiveLeft?l.from<=i.ch:l.from<i.ch))&&(null==l.to||(c.inclusiveRight?l.to>=i.ch:l.to>i.ch))){if(n&&(Rn(c,"beforeCursorEnter"),c.explicitlyCleared)){if(a.markedSpans){--u;continue}break}if(!c.atomic)continue;var p=c.find()[0>s?"from":"to"];if(ze(p,i)&&(p.ch+=s,0>p.ch?p=p.line>t.first?Fe(t,$e(p.line-1)):null:p.ch>a.text.length&&(p=p.line<t.first+t.size-1?$e(p.line+1,0):null),!p)){if(o)return n?(t.cantEdit=!0,$e(t.first,0)):Qe(t,e,r,!0);o=!0,p=e,s=-s}i=p;continue t}}return i}}function tr(t){var e=er(t,t.doc.sel.head);if(t.state.focused){var r=t.display,n=ro(r.sizer),o=null,i=N(t.display);if(0>e.top+i+n.top?o=!0:e.bottom+i+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!ko){var s="none"==r.cursor.style.display;s&&(r.cursor.style.display="",r.cursor.style.left=e.left+"px",r.cursor.style.top=e.top-r.viewOffset+"px"),r.cursor.scrollIntoView(o),s&&(r.cursor.style.display="none")}}}function er(t,e,r){for(null==r&&(r=0);;){var n=!1,o=U(t,e),i=nr(t,o.left,o.top-r,o.left,o.bottom+r),s=t.doc.scrollTop,a=t.doc.scrollLeft;if(null!=i.scrollTop&&(me(t,i.scrollTop),Math.abs(t.doc.scrollTop-s)>1&&(n=!0)),null!=i.scrollLeft&&(ve(t,i.scrollLeft),Math.abs(t.doc.scrollLeft-a)>1&&(n=!0)),!n)return o}}function rr(t,e,r,n,o){var i=nr(t,e,r,n,o);null!=i.scrollTop&&me(t,i.scrollTop),null!=i.scrollLeft&&ve(t,i.scrollLeft)}function nr(t,e,r,n,o){var i=t.display,s=N(i);r+=s,o+=s,0>r&&(r=0);var a=i.scroller.clientHeight-ci,u=i.scroller.scrollTop,l={},c=t.doc.height+R(i),p=s+10>r,h=o+s>c-10;if(u>r)l.scrollTop=p?0:r;else if(o>u+a){var d=Math.min(r,(h?c:o)-a);d!=u&&(l.scrollTop=d)}var f=i.scroller.clientWidth-ci,_=i.scroller.scrollLeft;e+=i.gutters.offsetWidth,n+=i.gutters.offsetWidth;var g=i.gutters.offsetWidth,y=g+10>e;return _+g>e||y?(y&&(e=0),l.scrollLeft=Math.max(0,e-10-g)):n>f+_-3&&(l.scrollLeft=n+10-f),l}function or(t,e,r){t.curOp.updateScrollPos={scrollLeft:null==e?t.doc.scrollLeft:e,scrollTop:null==r?t.doc.scrollTop:r}}function ir(t,e,r){var n=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),o=t.display.scroller;n.scrollTop=Math.max(0,Math.min(o.scrollHeight-o.clientHeight,n.scrollTop+r)),n.scrollLeft=Math.max(0,Math.min(o.scrollWidth-o.clientWidth,n.scrollLeft+e))}function sr(t,e,r,n){var o=t.doc;if(r||(r="add"),"smart"==r)if(t.doc.mode.indent)var i=W(t,e);else r="prev";var s,a=t.options.tabSize,u=ln(o,e),l=$n(u.text,null,a),c=u.text.match(/^\s*/)[0];if("smart"==r&&(s=t.doc.mode.indent(i,u.text.slice(c.length),u.text),s==pi)){if(!n)return;r="prev"}"prev"==r?s=e>o.first?$n(ln(o,e-1).text,null,a):0:"add"==r?s=l+t.options.indentUnit:"subtract"==r&&(s=l-t.options.indentUnit),s=Math.max(0,s);var p="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(s/a);d;--d)h+=a,p+="	";s>h&&(p+=zn(s-h)),p!=c&&Ie(t.doc,p,$e(e,0),$e(e,c.length),"+input"),u.stateAfter=null}function ar(t,e,r){var n=e,o=e,i=t.doc;return"number"==typeof e?o=ln(i,Je(i,e)):n=dn(e),null==n?null:r(o,n)?(oe(t,n,n+1),o):null}function ur(t,e,r,n,o){function i(){var e=a+r;return t.first>e||e>=t.first+t.size?c=!1:(a=e,l=ln(t,e))}function s(t){var e=(o?ho:fo)(l,u,r,!0);if(null==e){if(t||!i())return c=!1;u=o?(0>r?lo:uo)(l):0>r?l.text.length:0}else u=e;return!0}var a=e.line,u=e.ch,l=ln(t,a),c=!0;if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var p=null,h="group"==n,d=!0;!(0>r)||s(!d);d=!1){var f=l.text.charAt(u)||"\n",_=Kn(f)?"w":h?/\s/.test(f)?null:"p":null;if(p&&p!=_){0>r&&(r=1,s());break}if(_&&(p=_),r>0&&!s(!d))break}var g=Qe(t,$e(a,u),r,!0);return c||(g.hitSide=!0),g}function lr(t,e,r,n){var o,i=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=e.top+r*(a-(0>r?1.5:.5)*X(t.display))}else"line"==n&&(o=r>0?e.bottom+3:e.top-3);for(;;){var u=G(t,s,o);if(!u.outside)break;if(0>r?0>=o:o>=i.height){u.hitSide=!0;break}o+=5*r}return u}function cr(t,e){var r=e.ch,n=e.ch;if(t){e.after===!1||n==t.length?--r:++n;for(var o=t.charAt(r),i=Kn(o)?Kn:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Kn(t)};r>0&&i(t.charAt(r-1));)--r;for(;t.length>n&&i(t.charAt(n));)++n}return{from:$e(e.line,r),to:$e(e.line,n)}}function pr(t,e){Ge(t.doc,$e(e,0),Fe(t.doc,$e(e+1,0)))}function hr(e,r,n,o){t.defaults[e]=r,n&&(Fo[e]=o?function(t,e,r){r!=Yo&&n(t,e,r)}:n)}function dr(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var o=e[n];o instanceof Array&&(o=o.concat([])),r[n]=o}return r}function fr(t,e,r){return t.startState?t.startState(e,r):!0}function _r(t){return"string"==typeof t?ti[t]:t}function gr(t,e,r){function n(e){e=_r(e);var o=e[t];if(o===!1)return"stop";if(null!=o&&r(o))return!0;if(e.nofallthrough)return"stop";var i=e.fallthrough;if(null==i)return!1;if("[object Array]"!=Object.prototype.toString.call(i))return n(i);for(var s=0,a=i.length;a>s;++s){var u=n(i[s]);if(u)return u}return!1}for(var o=0;e.length>o;++o){var i=n(e[o]);if(i)return i}}function yr(t){var e=xi[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function mr(t,e){if(xo&&34==t.keyCode&&t["char"])return!1;var r=xi[t.keyCode];return null==r||t.altGraphKey?!1:(t.altKey&&(r="Alt-"+r),(Ro?t.metaKey:t.ctrlKey)&&(r="Ctrl-"+r),(Ro?t.ctrlKey:t.metaKey)&&(r="Cmd-"+r),!e&&t.shiftKey&&(r="Shift-"+r),r)}function vr(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0}function wr(t,e){this.lines=[],this.type=e,this.doc=t}function br(t,e,r,n,o){if(n&&n.shared)return Pr(t,e,r,n,o);if(t.cm&&!t.cm.curOp)return ee(t.cm,br)(t,e,r,n,o);var i=new wr(t,o);if("range"==o&&!Be(e,r))return i;n&&Un(n,i),i.replacedWith&&(i.collapsed=!0,i.replacedWith=Zn("span",[i.replacedWith],"CodeMirror-widget")),i.collapsed&&(Do=!0),i.addToHistory&&wn(t,{from:e,to:r,origin:"markText"},{head:t.sel.head,anchor:t.sel.anchor},0/0);var s,a,u,l=e.line,c=0,p=t.cm;if(t.iter(l,r.line+1,function(n){p&&i.collapsed&&!p.options.lineWrapping&&Nr(t,n)==p.display.maxLine&&(u=!0);var o={from:null,to:null,marker:i};c+=n.text.length,l==e.line&&(o.from=e.ch,c-=e.ch),l==r.line&&(o.to=r.ch,c-=n.text.length-r.ch),i.collapsed&&(l==r.line&&(a=Lr(n,r.ch)),l==e.line?s=Lr(n,e.ch):hn(n,0)),Er(n,o),++l}),i.collapsed&&t.iter(e.line,r.line+1,function(e){Rr(t,e)&&hn(e,0)}),i.clearOnEnter&&Wn(i,"beforeCursorEnter",function(){i.clear()}),i.readOnly&&(jo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),i.collapsed){if(s!=a)throw Error("Inserting collapsed marker overlapping an existing one");i.size=c,i.atomic=!0}return p&&(u&&(p.curOp.updateMaxLine=!0),(i.className||i.startStyle||i.endStyle||i.collapsed)&&oe(p,e.line,r.line+1),i.atomic&&Ze(p)),i}function xr(t,e){this.markers=t,this.primary=e;for(var r=0,n=this;t.length>r;++r)t[r].parent=this,Wn(t[r],"clear",function(){n.clear()})}function Pr(t,e,r,n,o){n=Un(n),n.shared=!1;var i=[br(t,e,r,n,o)],s=i[0],a=n.replacedWith;return an(t,function(t){a&&(n.replacedWith=a.cloneNode(!0)),i.push(br(t,Fe(t,e),Fe(t,r),n,o));for(var u=0;t.linked.length>u;++u)if(t.linked[u].isParent)return;s=Bn(i)}),new xr(i,s)}function Cr(t,e){if(t)for(var r=0;t.length>r;++r){var n=t[r];if(n.marker==e)return n}}function Sr(t,e){for(var r,n=0;t.length>n;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function Er(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function kr(t,e,r){if(t)for(var n,o=0;t.length>o;++o){var i=t[o],s=i.marker,a=null==i.from||(s.inclusiveLeft?e>=i.from:e>i.from);if(a||"bookmark"==s.type&&i.from==e&&(!r||!i.marker.insertLeft)){var u=null==i.to||(s.inclusiveRight?i.to>=e:i.to>e);(n||(n=[])).push({from:i.from,to:u?null:i.to,marker:s})}}return n}function Vr(t,e,r){if(t)for(var n,o=0;t.length>o;++o){var i=t[o],s=i.marker,a=null==i.to||(s.inclusiveRight?i.to>=e:i.to>e);if(a||"bookmark"==s.type&&i.from==e&&(!r||i.marker.insertLeft)){var u=null==i.from||(s.inclusiveLeft?e>=i.from:e>i.from);(n||(n=[])).push({from:u?null:i.from-e,to:null==i.to?null:i.to-e,marker:s})}}return n}function Or(t,e){var r=Ye(t,e.from.line)&&ln(t,e.from.line).markedSpans,n=Ye(t,e.to.line)&&ln(t,e.to.line).markedSpans;if(!r&&!n)return null;var o=e.from.ch,i=e.to.ch,s=ze(e.from,e.to),a=kr(r,o,s),u=Vr(n,i,s),l=1==e.text.length,c=Bn(e.text).length+(l?o:0);if(a)for(var p=0;a.length>p;++p){var h=a[p];if(null==h.to){var d=Cr(u,h.marker);d?l&&(h.to=null==d.to?null:d.to+c):h.to=o}}if(u)for(var p=0;u.length>p;++p){var h=u[p];if(null!=h.to&&(h.to+=c),null==h.from){var d=Cr(a,h.marker);d||(h.from=c,l&&(a||(a=[])).push(h))}else h.from+=c,l&&(a||(a=[])).push(h)}var f=[a];if(!l){var _,g=e.text.length-2;if(g>0&&a)for(var p=0;a.length>p;++p)null==a[p].to&&(_||(_=[])).push({from:null,to:null,marker:a[p].marker});for(var p=0;g>p;++p)f.push(_);f.push(u)}return f}function Tr(t,e){var r=xn(t,e),n=Or(t,e);if(!r)return n;if(!n)return r;for(var o=0;r.length>o;++o){var i=r[o],s=n[o];if(i&&s)t:for(var a=0;s.length>a;++a){for(var u=s[a],l=0;i.length>l;++l)if(i[l].marker==u.marker)continue t;i.push(u)}else s&&(r[o]=s)}return r}function Ar(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;t.markedSpans.length>e;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=Jn(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var o=[{from:e,to:r}],i=0;n.length>i;++i)for(var s=n[i],a=s.find(),u=0;o.length>u;++u){var l=o[u];if(!Be(l.to,a.from)&&!Be(a.to,l.from)){var c=[u,1];(Be(l.from,a.from)||!s.inclusiveLeft&&ze(l.from,a.from))&&c.push({from:l.from,to:a.from}),(Be(a.to,l.to)||!s.inclusiveRight&&ze(l.to,a.to))&&c.push({from:a.to,to:l.to}),o.splice.apply(o,c),u+=c.length-1}}return o}function Lr(t,e){var r,n=Do&&t.markedSpans;if(n)for(var o,i=0;n.length>i;++i)o=n[i],o.marker.collapsed&&(null==o.from||e>o.from)&&(null==o.to||o.to>e)&&(!r||r.width<o.marker.width)&&(r=o.marker);return r}function Mr(t){return Lr(t,-1)}function Wr(t){return Lr(t,t.text.length+1)}function Nr(t,e){for(var r;r=Mr(e);)e=ln(t,r.find().from.line);return e}function Rr(t,e){var r=Do&&e.markedSpans;if(r)for(var n,o=0;r.length>o;++o)if(n=r[o],n.marker.collapsed){if(null==n.from)return!0;if(0==n.from&&n.marker.inclusiveLeft&&Hr(t,e,n))return!0}}function Hr(t,e,r){if(null==r.to){var n=r.marker.find().to,o=ln(t,n.line);return Hr(t,o,Cr(o.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var i,s=0;e.markedSpans.length>s;++s)if(i=e.markedSpans[s],i.marker.collapsed&&i.from==r.to&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Hr(t,e,i))return!0}function jr(t){var e=t.markedSpans;if(e){for(var r=0;e.length>r;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Dr(t,e){if(e){for(var r=0;e.length>r;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function Ir(t){return function(){var e=!this.cm.curOp;e&&Q(this.cm);try{var r=t.apply(this,arguments)}finally{e&&te(this.cm)}return r}}function $r(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||to(t.cm.display.measure,Zn("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function zr(t,e,r,n){var o=new ei(t,r,n);return o.noHScroll&&(t.display.alignWidgets=!0),ar(t,e,function(e){if((e.widgets||(e.widgets=[])).push(o),o.line=e,!Rr(t.doc,e)||o.showIfHidden){var r=_n(t,e)<t.display.scroller.scrollTop;hn(e,e.height+$r(o)),r&&ir(t,0,o.height)}return!0}),o}function Br(t,e,r){var n={text:t};return Dr(n,e),n.height=r?r(n):1,n}function qr(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),jr(t),Dr(t,r);var o=n?n(t):1;o!=t.height&&hn(t,o)}function Jr(t){t.parent=null,jr(t)}function Fr(t,e,r,n,o){var i=r.flattenSpans;null==i&&(i=t.options.flattenSpans);var s,a="",u=null,l=new vr(e,t.options.tabSize);for(""==e&&r.blankLine&&r.blankLine(n);!l.eol();){l.pos>t.options.maxHighlightLength?(i=!1,l.pos=Math.min(e.length,l.start+5e4),s=null):s=r.token(l,n);var c=l.current();l.start=l.pos,i&&u==s?a+=c:(a&&o(a,u),a=c,u=s)}a&&o(a,u)}function Ur(t,e,r){var n=[t.state.modeGen];Fr(t,e.text,t.doc.mode,r,function(t,e){n.push(t,e)});for(var o=0;t.state.overlays.length>o;++o){var i=t.state.overlays[o],s=1;Fr(t,e.text,i.mode,!0,function(t,e){for(var r=s,o=t.length;o;){var a=n[s],u=a.length;o>=u?o-=u:(n.splice(s,1,a.slice(0,o),n[s+1],a.slice(o)),o=0),s+=2}if(e)if(i.opaque)n.splice(r,s-r,t,e),s=r+2;else for(;s>r;r+=2){var a=n[r+1];n[r+1]=a?a+" "+e:e}})}return n}function Yr(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Ur(t,e,e.stateAfter=W(t,dn(e)))),e.styles}function Gr(t,e,r){var n=t.doc.mode,o=new vr(e.text,t.options.tabSize);for(""==e.text&&n.blankLine&&n.blankLine(r);!o.eol()&&o.pos<=t.options.maxHighlightLength;)n.token(o,r),o.start=o.pos}function Kr(t){return t?ri[t]||(ri[t]="cm-"+t.replace(/ +/g," cm-")):null}function Xr(t,e,r){for(var n,o,i,s=e,a=!0;n=Mr(s);)a=!1,s=ln(t.doc,n.find().from.line),o||(o=s);var u={pre:Zn("pre"),col:0,pos:0,display:!r,measure:null,addedOne:!1,cm:t};s.textClass&&(u.pre.className=s.textClass);do{u.measure=s==e&&r,u.pos=0,u.addToken=u.measure?Qr:Zr,(go||vo)&&t.getOption("lineWrapping")&&(u.addToken=tn(u.addToken)),r&&i&&s!=e&&!u.addedOne&&(r[0]=u.pre.appendChild(oo(t.display.measure)),u.addedOne=!0);var l=rn(s,u,Yr(t,s));i=s==o,l&&(s=ln(t.doc,l.to.line),a=!1)}while(l);r&&!u.addedOne&&(r[0]=u.pre.appendChild(a?Zn("span",""):oo(t.display.measure))),u.pre.firstChild||Rr(t.doc,e)||u.pre.appendChild(document.createTextNode(""));var c;if(r&&go&&(c=gn(s))){var p=c.length-1;c[p].from==c[p].to&&--p;var h=c[p],d=c[p-1];if(h.from+1==h.to&&d&&h.level<d.level){var f=r[u.pos-1];f&&f.parentNode.insertBefore(f.measureRight=oo(t.display.measure),f.nextSibling)}}return Rn(t,"renderLine",t,e,u.pre),u.pre}function Zr(t,e,r,n,o){if(e){if(ni.test(e))for(var i=document.createDocumentFragment(),s=0;;){ni.lastIndex=s;var a=ni.exec(e),u=a?a.index-s:e.length-s;if(u&&(i.appendChild(document.createTextNode(e.slice(s,s+u))),t.col+=u),!a)break;if(s+=u+1,"	"==a[0]){var l=t.cm.options.tabSize,c=l-t.col%l;i.appendChild(Zn("span",zn(c),"cm-tab")),t.col+=c}else{var p=Zn("span","","cm-invalidchar");p.title="\\u"+a[0].charCodeAt(0).toString(16),i.appendChild(p),t.col+=1}}else{t.col+=e.length;var i=document.createTextNode(e)}if(r||n||o||t.measure){var h=r||"";return n&&(h+=n),o&&(h+=o),t.pre.appendChild(Zn("span",[i],h))}t.pre.appendChild(i)}}function Qr(t,e,r,n,o){for(var i=t.cm.options.lineWrapping,s=0;e.length>s;++s){var a=e.charAt(s),u=0==s;a>=""&&"">a&&e.length-1>s?(a=e.slice(s,s+2),++s):s&&i&&gi.test(e.slice(s-1,s+1))&&t.pre.appendChild(Zn("wbr"));var l=t.measure[t.pos]=Zr(t,a,r,u&&n,s==e.length-1&&o);go&&i&&" "==a&&s&&!/\s/.test(e.charAt(s-1))&&e.length-1>s&&!/\s/.test(e.charAt(s+1))&&(l.style.whiteSpace="normal"),t.pos+=a.length}e.length&&(t.addedOne=!0)}function tn(t){function e(t){for(var e=" ",r=0;t.length-2>r;++r)e+=r%2?" ":"";return e+=" "}return function(r,n,o,i,s){return t(r,n.replace(/ {3,}/,e),o,i,s)}}function en(t,e,r){r&&(t.display||(r=r.cloneNode(!0)),t.pre.appendChild(r),t.measure&&e&&(t.measure[t.pos]=r,t.addedOne=!0)),t.pos+=e}function rn(t,e,r){var n=t.markedSpans;if(n)for(var o,i,s,a,u,l=t.text,c=l.length,p=0,h=1,d="",f=0;;){if(f==p){i=s=a="",u=null,f=1/0;for(var _=null,g=0;n.length>g;++g){var y=n[g],m=y.marker;p>=y.from&&(null==y.to||y.to>p)?(null!=y.to&&f>y.to&&(f=y.to,s=""),m.className&&(i+=" "+m.className),m.startStyle&&y.from==p&&(a+=" "+m.startStyle),m.endStyle&&y.to==f&&(s+=" "+m.endStyle),m.collapsed&&(!u||u.marker.width<m.width)&&(u=y)):y.from>p&&f>y.from&&(f=y.from),"bookmark"==m.type&&y.from==p&&m.replacedWith&&(_=m.replacedWith)}if(u&&(u.from||0)==p&&(en(e,(null==u.to?c:u.to)-p,null!=u.from&&u.marker.replacedWith),null==u.to))return u.marker.find();_&&!u&&en(e,0,_)}if(p>=c)break;for(var v=Math.min(c,f);;){if(d){var w=p+d.length;if(!u){var b=w>v?d.slice(0,v-p):d;e.addToken(e,b,o?o+i:i,a,p+b.length==f?s:"")}if(w>=v){d=d.slice(v-p),p=v;break}p=w,a=""}d=r[h++],o=Kr(r[h++])}}else for(var h=1;r.length>h;h+=2)e.addToken(e,r[h],Kr(r[h+1]))}function nn(t,e,r,n,o){function i(t){return r?r[t]:null}function s(t,r,n){qr(t,r,n,o),Hn(t,"change",t,e)}var a=e.from,u=e.to,l=e.text,c=ln(t,a.line),p=ln(t,u.line),h=Bn(l),d=i(l.length-1),f=u.line-a.line;if(0==a.ch&&0==u.ch&&""==h){for(var _=0,g=l.length-1,y=[];g>_;++_)y.push(Br(l[_],i(_),o));s(p,p.text,d),f&&t.remove(a.line,f),y.length&&t.insert(a.line,y)}else if(c==p)if(1==l.length)s(c,c.text.slice(0,a.ch)+h+c.text.slice(u.ch),d);else{for(var y=[],_=1,g=l.length-1;g>_;++_)y.push(Br(l[_],i(_),o));y.push(Br(h+c.text.slice(u.ch),d,o)),s(c,c.text.slice(0,a.ch)+l[0],i(0)),t.insert(a.line+1,y)}else if(1==l.length)s(c,c.text.slice(0,a.ch)+l[0]+p.text.slice(u.ch),i(0)),t.remove(a.line+1,f);else{s(c,c.text.slice(0,a.ch)+l[0],i(0)),s(p,h+p.text.slice(u.ch),d);for(var _=1,g=l.length-1,y=[];g>_;++_)y.push(Br(l[_],i(_),o));f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,y)}Hn(t,"change",t,e),Xe(t,n.anchor,n.head,null,!0)}function on(t){this.lines=t,this.parent=null;for(var e=0,r=t.length,n=0;r>e;++e)t[e].parent=this,n+=t[e].height;this.height=n}function sn(t){this.children=t;for(var e=0,r=0,n=0,o=t.length;o>n;++n){var i=t[n];e+=i.chunkSize(),r+=i.height,i.parent=this}this.size=e,this.height=r,this.parent=null}function an(t,e,r){function n(t,o,i){if(t.linked)for(var s=0;t.linked.length>s;++s){var a=t.linked[s];if(a.doc!=o){var u=i&&a.sharedHist;(!r||u)&&(e(a.doc,u),n(a.doc,t,u))}}}n(t,null,!0)}function un(t,e){if(e.cm)throw Error("This document is already in use.");t.doc=e,e.cm=t,i(t),r(t),t.options.lineWrapping||p(t),t.options.mode=e.modeOption,oe(t)}function ln(t,e){for(e-=t.first;!t.lines;)for(var r=0;;++r){var n=t.children[r],o=n.chunkSize();if(o>e){t=n;break}e-=o}return t.lines[e]}function cn(t,e,r){var n=[],o=e.line;return t.iter(e.line,r.line+1,function(t){var i=t.text;o==r.line&&(i=i.slice(0,r.ch)),o==e.line&&(i=i.slice(e.ch)),n.push(i),++o}),n}function pn(t,e,r){var n=[];return t.iter(e,r,function(t){n.push(t.text)}),n}function hn(t,e){for(var r=e-t.height,n=t;n;n=n.parent)n.height+=r}function dn(t){if(null==t.parent)return null;for(var e=t.parent,r=Jn(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var o=0;n.children[o]!=e;++o)r+=n.children[o].chunkSize();return r+e.first}function fn(t,e){var r=t.first;t:do{for(var n=0,o=t.children.length;o>n;++n){var i=t.children[n],s=i.height;if(s>e){t=i;continue t}e-=s,r+=i.chunkSize()}return r}while(!t.lines);for(var n=0,o=t.lines.length;o>n;++n){var a=t.lines[n],u=a.height;if(u>e)break;e-=u}return r+n}function _n(t,e){e=Nr(t.doc,e);for(var r=0,n=e.parent,o=0;n.lines.length>o;++o){var i=n.lines[o];if(i==e)break;r+=i.height}for(var s=n.parent;s;n=s,s=n.parent)for(var o=0;s.children.length>o;++o){var a=s.children[o];if(a==n)break;r+=a.height}return r}function gn(t){var e=t.order;return null==e&&(e=t.order=Pi(t.text)),e}function yn(){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function mn(t,e,r,n){var o=e["spans_"+t.id],i=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(r){r.markedSpans&&((o||(o=e["spans_"+t.id]={}))[i]=r.markedSpans),++i})}function vn(t,e){var r={from:e.from,to:Te(e),text:cn(t,e.from,e.to)};return mn(t,r,e.from.line,e.to.line+1),an(t,function(t){mn(t,r,e.from.line,e.to.line+1)},!0),r}function wn(t,e,r,n){var o=t.history;o.undone.length=0;var i=+new Date,s=Bn(o.done);if(s&&(o.lastOp==n||o.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&o.lastTime>i-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))){var a=Bn(s.changes);ze(e.from,e.to)&&ze(e.from,a.to)?a.to=Te(e):s.changes.push(vn(t,e)),s.anchorAfter=r.anchor,s.headAfter=r.head}else{for(s={changes:[vn(t,e)],anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:r.anchor,headAfter:r.head},o.done.push(s);o.done.length>o.undoDepth;)o.done.shift();0>o.dirtyCounter?o.dirtyCounter=0/0:o.dirtyCounter++}o.lastTime=i,o.lastOp=n,o.lastOrigin=e.origin}function bn(t){if(!t)return null;for(var e,r=0;t.length>r;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function xn(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=0,o=[];e.text.length>n;++n)o.push(bn(r[n]));return o}function Pn(t,e){for(var r=0,n=[];t.length>r;++r){var o=t[r],i=o.changes,s=[];n.push({changes:s,anchorBefore:o.anchorBefore,headBefore:o.headBefore,anchorAfter:o.anchorAfter,headAfter:o.headAfter});for(var a=0;i.length>a;++a){var u,l=i[a];if(s.push({from:l.from,to:l.to,text:l.text}),e)for(var c in l)(u=c.match(/^spans_(\d+)$/))&&Jn(e,Number(u[1]))>-1&&(Bn(s)[c]=l[c],delete l[c])}}return n}function Cn(t,e,r,n){t.line>r?t.line+=n:t.line>e&&(t.line=e,t.ch=0)}function Sn(t,e,r,n){for(var o=0;t.length>o;++o){for(var i=t[o],s=!0,a=0;i.changes.length>a;++a){var u=i.changes[a];if(i.copied||(u.from=qe(u.from),u.to=qe(u.to)),u.from.line>r)u.from.line+=n,u.to.line+=n;else if(u.to.line>=e){s=!1;break}}i.copied||(i.anchorBefore=qe(i.anchorBefore),i.headBefore=qe(i.headBefore),i.anchorAfter=qe(i.anchorAfter),i.readAfter=qe(i.headAfter),i.copied=!0),s?(Cn(i.anchorBefore),Cn(i.headBefore),Cn(i.anchorAfter),Cn(i.headAfter)):(t.splice(0,o+1),o=0)}}function En(t,e){var r=e.from.line,n=e.to.line,o=e.text.length-(n-r)-1;Sn(t.done,r,n,o),Sn(t.undone,r,n,o)}function kn(){An(this)}function Vn(t){return t.stop||(t.stop=kn),t}function On(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Tn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function An(t){On(t),Tn(t)}function Ln(t){return t.target||t.srcElement}function Mn(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),To&&t.ctrlKey&&1==e&&(e=3),e}function Wn(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={}),o=n[e]||(n[e]=[]);o.push(r)}}function Nn(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers&&t._handlers[e];if(!n)return;for(var o=0;n.length>o;++o)if(n[o]==r){n.splice(o,1);break}}}function Rn(t,e){var r=t._handlers&&t._handlers[e];if(r)for(var n=Array.prototype.slice.call(arguments,2),o=0;r.length>o;++o)r[o].apply(null,n)}function Hn(t,e){function r(t){return function(){t.apply(null,o)}}var n=t._handlers&&t._handlers[e];if(n){var o=Array.prototype.slice.call(arguments,2);ui||(++li,ui=[],setTimeout(jn,0));for(var i=0;n.length>i;++i)ui.push(r(n[i]))}}function jn(){--li;var t=ui;ui=null;for(var e=0;t.length>e;++e)t[e]()}function Dn(t,e){var r=t._handlers&&t._handlers[e];return r&&r.length>0}function In(){this.id=null}function $n(t,e,r,n,o){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var i=n||0,s=o||0;e>i;++i)"	"==t.charAt(i)?s+=r-s%r:++s;return s}function zn(t){for(;t>=hi.length;)hi.push(Bn(hi)+" ");return hi[t]}function Bn(t){return t[t.length-1]}function qn(t){Vo?(t.selectionStart=0,t.selectionEnd=t.value.length):t.select()}function Jn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;n>r;++r)if(t[r]==e)return r;return-1}function Fn(t,e){function r(){}r.prototype=t;var n=new r;return e&&Un(e,n),n}function Un(t,e){e||(e={});for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Yn(t){for(var e=[],r=0;t>r;++r)e.push(void 0);return e}function Gn(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Kn(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||di.test(t))}function Xn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Zn(t,e,r,n){var o=document.createElement(t);if(r&&(o.className=r),n&&(o.style.cssText=n),"string"==typeof e)eo(o,e);else if(e)for(var i=0;e.length>i;++i)o.appendChild(e[i]);return o}function Qn(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function to(t,e){return Qn(t).appendChild(e)}function eo(t,e){mo?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function ro(t){return t.getBoundingClientRect()}function no(t){if(null!=yi)return yi;var e=Zn("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return to(t,e),e.offsetWidth&&(yi=e.offsetHeight-e.clientHeight),yi||0}function oo(t){if(null==mi){var e=Zn("span","");to(t,Zn("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(mi=1>=e.offsetWidth&&e.offsetHeight>2&&!yo)}return mi?Zn("span",""):Zn("span","",null,"display: inline-block; width: 1px; margin-right: -1px")}function io(t,e,r,n){if(!t)return n(e,r,"ltr");for(var o=0;t.length>o;++o){var i=t[o];(r>i.from&&i.to>e||e==r&&i.to==e)&&n(Math.max(i.from,e),Math.min(i.to,r),1==i.level?"rtl":"ltr")}}function so(t){return t.level%2?t.to:t.from}function ao(t){return t.level%2?t.from:t.to}function uo(t){var e=gn(t);return e?so(e[0]):0}function lo(t){var e=gn(t);return e?ao(Bn(e)):t.text.length}function co(t,e){var r=ln(t.doc,e),n=Nr(t.doc,r);n!=r&&(e=dn(n));var o=gn(n),i=o?o[0].level%2?lo(n):uo(n):0;return $e(e,i)}function po(t,e){for(var r,n;r=Wr(n=ln(t.doc,e));)e=r.find().to.line;var o=gn(n),i=o?o[0].level%2?uo(n):lo(n):n.text.length;return $e(e,i)}function ho(t,e,r,n){var o=gn(t);if(!o)return fo(t,e,r,n);for(var i=n?function(e,r){do e+=r;while(e>0&&fi.test(t.text.charAt(e)));return e}:function(t,e){return t+e},s=o[0].level,a=0;o.length>a;++a){var u=o[a],l=u.level%2==s;if(e>u.from&&u.to>e||l&&(u.from==e||u.to==e))break}for(var c=i(e,u.level%2?-r:r);null!=c;)if(u.level%2==s){if(!(u.from>c||c>u.to))break;u=o[a+=r],c=u&&(r>0==u.level%2?i(u.to,-1):i(u.from,1))}else if(c==so(u))u=o[--a],c=u&&ao(u);else{if(c!=ao(u))break;u=o[++a],c=u&&so(u)}return 0>c||c>t.text.length?null:c}function fo(t,e,r,n){var o=e+r;if(n)for(;o>0&&fi.test(t.text.charAt(o));)o+=r;return 0>o||o>t.text.length?null:o}var _o=/gecko\/\d/i.test(navigator.userAgent),go=/MSIE \d/.test(navigator.userAgent),yo=go&&(null==document.documentMode||8>document.documentMode),mo=go&&(null==document.documentMode||9>document.documentMode),vo=/WebKit\//.test(navigator.userAgent),wo=vo&&/Qt\/\d+\.\d+/.test(navigator.userAgent),bo=/Chrome\//.test(navigator.userAgent),xo=/Opera\//.test(navigator.userAgent),Po=/Apple Computer/.test(navigator.vendor),Co=/KHTML\//.test(navigator.userAgent),So=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Eo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ko=/PhantomJS/.test(navigator.userAgent),Vo=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Oo=Vo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),To=Vo||/Mac/.test(navigator.platform),Ao=/windows/i.test(navigator.platform),Lo=xo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);
Lo&&(Lo=Number(Lo[1]));var Mo,Wo,No,Ro=To&&(wo||xo&&(null==Lo||12.11>Lo)),Ho=_o||go&&!mo,jo=!1,Do=!1,Io=0,$o=0,zo=null;go?zo=-.53:_o?zo=15:bo?zo=-.7:Po&&(zo=-1/3);var Bo,qo,Jo=null;t.Pos=$e,t.prototype={focus:function(){window.focus(),le(this),ke(this),se(this)},setOption:function(t,e){var r=this.options,n=r[t];(r[t]!=e||"mode"==t)&&(r[t]=e,Fo.hasOwnProperty(t)&&ee(this,Fo[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;e.length>r;++r)if(("string"==typeof t?e[r].name:e[r])==t)return e.splice(r,1),!0},addOverlay:ee(null,function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:r&&r.opaque}),this.state.modeGen++,oe(this)}),removeOverlay:ee(null,function(t){for(var e=this.state.overlays,r=0;e.length>r;++r)if(e[r].modeSpec==t)return e.splice(r,1),this.state.modeGen++,oe(this),void 0}),indentLine:ee(null,function(t,e,r){"string"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Ye(this.doc,t)&&sr(this,t,e,r)}),indentSelection:ee(null,function(t){var e=this.doc.sel;if(ze(e.from,e.to))return sr(this,e.from.line,t);for(var r=e.to.line-(e.to.ch?0:1),n=e.from.line;r>=n;++n)sr(this,n,t)}),getTokenAt:function(t){var e=this.doc;t=Fe(e,t);for(var r=W(this,t.line),n=this.doc.mode,o=ln(e,t.line),i=new vr(o.text,this.options.tabSize);i.pos<t.ch&&!i.eol();){i.start=i.pos;var s=n.token(i,r)}return{start:i.start,end:i.pos,string:i.current(),className:s||null,type:s||null,state:r}},getStateAfter:function(t){var e=this.doc;return t=Je(e,null==t?e.first+e.size-1:t),W(this,t+1)},cursorCoords:function(t,e){var r,n=this.doc.sel;return r=null==t?n.head:"object"==typeof t?Fe(this.doc,t):t?n.from:n.to,U(this,r,e||"page")},charCoords:function(t,e){return F(this,Fe(this.doc,t),e||"page")},coordsChar:function(t,e){return t=J(this,t,e||"page"),G(this,t.left,t.top)},defaultTextHeight:function(){return X(this.display)},defaultCharWidth:function(){return Z(this.display)},setGutterMarker:ee(null,function(t,e,r){return ar(this,t,function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&Xn(n)&&(t.gutterMarkers=null),!0})}),clearGutter:ee(null,function(t){var e=this,r=e.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&(r.gutterMarkers[t]=null,oe(e,n,n+1),Xn(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),addLineClass:ee(null,function(t,e,r){return ar(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[n]){if(RegExp("\\b"+r+"\\b").test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0})}),removeLineClass:ee(null,function(t,e,r){return ar(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",o=t[n];if(!o)return!1;if(null==r)t[n]=null;else{var i=o.replace(RegExp("^"+r+"\\b\\s*|\\s*\\b"+r+"\\b"),"");if(i==o)return!1;t[n]=i||null}return!0})}),addLineWidget:ee(null,function(t,e,r){return zr(this,t,e,r)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!Ye(this.doc,t))return null;var e=t;if(t=ln(this.doc,t),!t)return null}else{var e=dn(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,r,n,o){var i=this.display;t=U(this,Fe(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",i.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var u=Math.max(i.wrapper.clientHeight,this.doc.height),l=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>u)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:u>=t.bottom+e.offsetHeight&&(s=t.bottom),a+e.offsetWidth>l&&(a=l-e.offsetWidth)}e.style.top=s+N(i)+"px",e.style.left=e.style.right="","right"==o?(a=i.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(i.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),r&&rr(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:ee(null,Se),execCommand:function(t){return Qo[t](this)},findPosH:function(t,e,r,n){var o=1;0>e&&(o=-1,e=-e);for(var i=0,s=Fe(this.doc,t);e>i&&(s=ur(this.doc,s,o,r,n),!s.hitSide);++i);return s},moveH:ee(null,function(t,e){var r,n=this.doc.sel;r=n.shift||n.extend||ze(n.from,n.to)?ur(this.doc,n.head,t,e,this.options.rtlMoveVisually):0>t?n.from:n.to,Ge(this.doc,r,r,t)}),deleteH:ee(null,function(t,e){var r=this.doc.sel;ze(r.from,r.to)?Ie(this.doc,"",r.from,ur(this.doc,r.head,t,e,!1),"+delete"):Ie(this.doc,"",r.from,r.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,r,n){var o=1,i=n;0>e&&(o=-1,e=-e);for(var s=0,a=Fe(this.doc,t);e>s;++s){var u=U(this,a,"div");if(null==i?i=u.left:u.left=i,a=lr(this,u,o,r),a.hitSide)break}return a},moveV:ee(null,function(t,e){var r=this.doc.sel,n=U(this,r.head,"div");null!=r.goalColumn&&(n.left=r.goalColumn);var o=lr(this,n,t,e);"page"==e&&ir(this,0,F(this,o,"div").top-n.top),Ge(this.doc,o,o,t),r.goalColumn=n.left}),toggleOverwrite:function(){(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},hasFocus:function(){return this.state.focused},scrollTo:ee(null,function(t,e){or(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=ci;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:ee(null,function(t,e){"number"==typeof t&&(t=$e(t,0)),e||(e=0);var r=t;t&&null==t.line||(this.curOp.scrollToPos=t?Fe(this.doc,t):this.doc.sel.head,this.curOp.scrollToPosMargin=e,r=U(this,this.curOp.scrollToPos));var n=nr(this,r.left,r.top-e,r.right,r.bottom+e);or(this,n.scrollLeft,n.scrollTop)}),setSize:function(t,e){function r(t){return"number"==typeof t||/^\d+$/.test(t+"")?t+"px":t}null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.refresh()},on:function(t,e){Wn(this,t,e)},off:function(t,e){Nn(this,t,e)},operation:function(t){return ne(this,t)},refresh:ee(null,function(){B(this),or(this,this.doc.scrollLeft,this.doc.scrollTop),oe(this)}),swapDoc:ee(null,function(t){var e=this.doc;return e.cm=null,un(this,t),B(this),ue(this,!0),or(this,t.scrollLeft,t.scrollTop),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Fo=t.optionHandlers={},Uo=t.defaults={},Yo=t.Init={toString:function(){return"CodeMirror.Init"}};hr("value","",function(t,e){t.setValue(e)},!0),hr("mode",null,function(t,e){t.doc.modeOption=e,r(t)},!0),hr("indentUnit",2,r,!0),hr("indentWithTabs",!1),hr("smartIndent",!0),hr("tabSize",4,function(t){r(t),B(t),oe(t)},!0),hr("electricChars",!0),hr("rtlMoveVisually",!Ao),hr("theme","default",function(t){a(t),u(t)},!0),hr("keyMap","default",s),hr("extraKeys",null),hr("onKeyEvent",null),hr("onDragEvent",null),hr("lineWrapping",!1,n,!0),hr("gutters",[],function(t){h(t.options),u(t)},!0),hr("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?m(t.display)+"px":"0",t.refresh()},!0),hr("lineNumbers",!1,function(t){h(t.options),u(t)},!0),hr("firstLineNumber",1,u,!0),hr("lineNumberFormatter",function(t){return t},u,!0),hr("showCursorWhenSelecting",!1,k,!0),hr("readOnly",!1,function(t,e){"nocursor"==e?(Ve(t),t.display.input.blur()):e||ue(t,!0)}),hr("dragDrop",!0),hr("cursorBlinkRate",530),hr("cursorHeight",1),hr("workTime",100),hr("workDelay",100),hr("flattenSpans",!0),hr("pollInterval",100),hr("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),hr("historyEventDelay",500),hr("viewportMargin",10,function(t){t.refresh()},!0),hr("maxHighlightLength",1e4,function(t){r(t),t.refresh()},!0),hr("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),hr("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),hr("autofocus",null);var Go=t.modes={},Ko=t.mimeModes={};t.defineMode=function(e,r){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){r.dependencies=[];for(var n=2;arguments.length>n;++n)r.dependencies.push(arguments[n])}Go[e]=r},t.defineMIME=function(t,e){Ko[t]=e},t.resolveMode=function(e){if("string"==typeof e&&Ko.hasOwnProperty(e))e=Ko[e];else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,r){r=t.resolveMode(r);var n=Go[r.name];if(!n)return t.getMode(e,"text/plain");var o=n(e,r);if(Xo.hasOwnProperty(r.name)){var i=Xo[r.name];for(var s in i)i.hasOwnProperty(s)&&(o.hasOwnProperty(s)&&(o["_"+s]=o[s]),o[s]=i[s])}return o.name=r.name,o},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var Xo=t.modeExtensions={};t.extendMode=function(t,e){var r=Xo.hasOwnProperty(t)?Xo[t]:Xo[t]={};Un(e,r)},t.defineExtension=function(e,r){t.prototype[e]=r},t.defineDocExtension=function(t,e){ii.prototype[t]=e},t.defineOption=hr;var Zo=[];t.defineInitHook=function(t){Zo.push(t)},t.copyState=dr,t.startState=fr,t.innerMode=function(t,e){for(;t.innerMode;){var r=t.innerMode(e);e=r.state,t=r.mode}return r||{mode:t,state:e}};var Qo=t.commands={selectAll:function(t){t.setSelection($e(t.firstLine(),0),$e(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),r=t.getCursor(!1),n=!ze(e,r);n||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,n?r:$e(e.line),"+delete"):t.replaceRange("",e,$e(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",$e(e,0),$e(e),"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection($e(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection($e(t.lastLine()))},goLineStart:function(t){t.extendSelection(co(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),r=co(t,e.line),n=t.getLineHandle(r.line),o=gn(n);if(o&&0!=o[0].level)t.extendSelection(r);else{var i=Math.max(0,n.text.search(/\S/)),s=e.line==r.line&&i>=e.ch&&e.ch;t.extendSelection($e(r.line,s?0:i))}},goLineEnd:function(t){t.extendSelection(po(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end","+input")},transposeChars:function(t){var e=t.getCursor(),r=t.getLine(e.line);e.ch>0&&e.ch<r.length-1&&t.replaceRange(r.charAt(e.ch)+r.charAt(e.ch-1),$e(e.line,e.ch-1),$e(e.line,e.ch+1))},newlineAndIndent:function(t){ee(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},ti=t.keyMap={};ti.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ti.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ti.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},ti["default"]=To?ti.macDefault:ti.pcDefault,ti.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=gr,t.isModifierKey=yr,t.keyName=mr,t.fromTextArea=function(e,r){function n(){e.value=l.getValue()}if(r||(r={}),r.value=e.value,!r.tabindex&&e.tabindex&&(r.tabindex=e.tabindex),!r.placeholder&&e.placeholder&&(r.placeholder=e.placeholder),null==r.autofocus){var o=document.body;try{o=document.activeElement}catch(i){}r.autofocus=o==e||null!=e.getAttribute("autofocus")&&o==document.body}if(e.form&&(Wn(e.form,"submit",n),!r.leaveSubmitMethodAlone)){var s=e.form,a=s.submit;try{var u=s.submit=function(){n(),s.submit=a,s.submit(),s.submit=u}}catch(i){}}e.style.display="none";var l=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},r);return l.save=n,l.getTextArea=function(){return e},l.toTextArea=function(){n(),e.parentNode.removeChild(l.getWrapperElement()),e.style.display="",e.form&&(Nn(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=a))},l},vr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var r=e==t;else var r=e&&(t.test?t.test(e):t(e));return r?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$n(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return $n(this.string,null,this.tabSize)},match:function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var o=function(t){return r?t.toLowerCase():t},i=this.string.substr(this.pos,t.length);return o(i)==o(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=vr,t.TextMarker=wr,wr.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;e&&Q(t);for(var r=null,n=null,o=0;this.lines.length>o;++o){var i=this.lines[o],s=Cr(i.markedSpans,this);null!=s.to&&(n=dn(i)),i.markedSpans=Sr(i.markedSpans,s),null!=s.from?r=dn(i):this.collapsed&&!Rr(this.doc,i)&&t&&hn(i,X(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;this.lines.length>o;++o){var a=Nr(t.doc,this.lines[o]),u=c(t.doc,a);u>t.display.maxLineLength&&(t.display.maxLine=a,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&oe(t,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ze(t)),e&&te(t),Hn(this,"clear")}},wr.prototype.find=function(){for(var t,e,r=0;this.lines.length>r;++r){var n=this.lines[r],o=Cr(n.markedSpans,this);if(null!=o.from||null!=o.to){var i=dn(n);null!=o.from&&(t=$e(i,o.from)),null!=o.to&&(e=$e(i,o.to))}}return"bookmark"==this.type?t:t&&{from:t,to:e}},wr.prototype.getOptions=function(t){var e=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,replacedWith:t?e&&e.cloneNode(!0):e,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}},wr.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Jn(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},wr.prototype.detachLine=function(t){if(this.lines.splice(Jn(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},t.SharedTextMarker=xr,xr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;this.markers.length>t;++t)this.markers[t].clear();Hn(this,"clear")}},xr.prototype.find=function(){return this.primary.find()},xr.prototype.getOptions=function(t){var e=this.primary.getOptions(t);return e.shared=!0,e};var ei=t.LineWidget=function(t,e,r){for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.cm=t,this.node=e};ei.prototype.clear=Ir(function(){var t=this.line.widgets,e=dn(this.line);if(null!=e&&t){for(var r=0;t.length>r;++r)t[r]==this&&t.splice(r--,1);t.length||(this.line.widgets=null),hn(this.line,Math.max(0,this.line.height-$r(this))),oe(this.cm,e,e+1)}}),ei.prototype.changed=Ir(function(){var t=this.height;this.height=null;var e=$r(this)-t;if(e){hn(this.line,this.line.height+e);var r=dn(this.line);oe(this.cm,r,r+1)}});var ri={},ni=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;on.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;n>r;++r){var o=this.lines[r];this.height-=o.height,Jr(o),Hn(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0,o=e.length;o>n;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;n>t;++t)if(r(this.lines[t]))return!0}},sn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;this.children.length>r;++r){var n=this.children[r],o=n.chunkSize();if(o>t){var i=Math.min(e,o-t),s=n.height;if(n.removeInner(t,i),this.height-=s-n.height,o==i&&(this.children.splice(r--,1),n.parent=null),0==(e-=i))break;t=0}else t-=o}if(25>this.size-e){var a=[];this.collapse(a),this.children=[new on(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0,r=this.children.length;r>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0,o=this.children.length;o>n;++n){var i=this.children[n],s=i.chunkSize();if(s>=t){if(i.insertInner(t,e,r),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),u=new on(a);i.height-=u.height,this.children.splice(n+1,0,u),u.parent=this}this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(10>=this.children.length)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new sn(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=Jn(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var o=new sn(t.children);o.parent=t,t.children=[o,r],t=o}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0,o=this.children.length;o>n;++n){var i=this.children[n],s=i.chunkSize();if(s>t){var a=Math.min(e,s-t);if(i.iterN(t,a,r))return!0;if(0==(e-=a))break;t=0}else t-=s}}};var oi=0,ii=t.Doc=function(t,e,r){if(!(this instanceof ii))return new ii(t,e,r);null==r&&(r=0),sn.call(this,[new on([Br("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=yn(),this.frontier=r;var n=$e(r,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++oi,this.modeOption=e,"string"==typeof t&&(t=vi(t)),nn(this,{from:n,to:n,text:t},null,{head:n,anchor:n})};ii.prototype=Fn(sn.prototype,{iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0,o=e.length;o>n;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=pn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=$e(this.first,0),r=this.first+this.size-1;We(this,{from:e,to:$e(r,ln(this,r).text.length),text:vi(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,r,n){e=Fe(this,e),r=r?Fe(this,r):e,Ie(this,t,e,r,n)},getRange:function(t,e,r){var n=cn(this,Fe(this,t),Fe(this,e));return r===!1?n:n.join(r||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){Ye(this,t)&&Ie(this,e,$e(t,0),Fe(this,$e(t)))},removeLine:function(t){t?Ie(this,"",Fe(this,$e(t-1)),Fe(this,$e(t))):Ie(this,"",$e(0,0),Fe(this,$e(1,0)))},getLineHandle:function(t){return Ye(this,t)?ln(this,t):void 0},getLineNumber:function(t){return dn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Fe(this,t)},getCursor:function(t){var e,r=this.sel;return e=null==t||"head"==t?r.head:"anchor"==t?r.anchor:"end"==t||t===!1?r.to:r.from,qe(e)},somethingSelected:function(){return!ze(this.sel.head,this.sel.anchor)},setCursor:re(function(t,e,r){var n=Fe(this,"number"==typeof t?$e(t,e||0):t);r?Ge(this,n):Xe(this,n,n)}),setSelection:re(function(t,e){Xe(this,Fe(this,t),Fe(this,e||t))}),extendSelection:re(function(t,e){Ge(this,Fe(this,t),e&&Fe(this,e))}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,r){We(this,{from:this.sel.from,to:this.sel.to,text:vi(t),origin:r},e||"around")},undo:re(function(){Re(this,"undo")}),redo:re(function(){Re(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=yn()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return 0==this.history.dirtyCounter},getHistory:function(){return{done:Pn(this.history.done),undone:Pn(this.history.undone)}},setHistory:function(t){var e=this.history=yn();e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,r){return br(this,Fe(this,t),Fe(this,e),r,"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft};return t=Fe(this,t),br(this,t,t,r,"bookmark")},findMarksAt:function(t){t=Fe(this,t);var e=[],r=ln(this,t.line).markedSpans;if(r)for(var n=0;r.length>n;++n){var o=r[n];(null==o.from||o.from<=t.ch)&&(null==o.to||o.to>=t.ch)&&e.push(o.marker.parent||o.marker)}return e},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;r.length>n;++n)null!=r[n].from&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first;return this.iter(function(n){var o=n.text.length+1;return o>t?(e=t,!0):(t-=o,++r,void 0)}),Fe(this,$e(r,e))},indexFromPos:function(t){t=Fe(this,t);var e=t.ch;return t.line<this.first||0>t.ch?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new ii(pn(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&r>t.to&&(r=t.to);var n=new ii(pn(this,e,r),t.mode||this.modeOption,e);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var r=0;this.linked.length>r;++r){var n=this.linked[r];if(n.doc==e){this.linked.splice(r,1),e.unlinkDoc(this);break}}if(e.history==this.history){var o=[e.id];an(e,function(t){o.push(t.id)},!0),e.history=yn(),e.history.done=Pn(this.history.done,o),e.history.undone=Pn(this.history.undone,o)}},iterLinkedDocs:function(t){an(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ii.prototype.eachLine=ii.prototype.iter;var si="iter insert remove copy getEditor".split(" ");for(var ai in ii.prototype)ii.prototype.hasOwnProperty(ai)&&0>Jn(si,ai)&&(t.prototype[ai]=function(t){return function(){return t.apply(this.doc,arguments)}}(ii.prototype[ai]));t.e_stop=An,t.e_preventDefault=On,t.e_stopPropagation=Tn;var ui,li=0;t.on=Wn,t.off=Nn,t.signal=Rn;var ci=30,pi=t.Pass={toString:function(){return"CodeMirror.Pass"}};In.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=$n;var hi=[""],di=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,fi=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;t.replaceGetRect=function(t){ro=t};var _i=function(){if(mo)return!1;var t=Zn("div");return"draggable"in t||"dragDrop"in t}(),gi=/^$/;_o?gi=/$'/:Po&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?gi=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:vo&&(gi=/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.]|\?[\w~`@#$%\^&*(_=+{[|><]/);var yi,mi,vi=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;n>=e;){var o=t.indexOf("\n",e);-1==o&&(o=t.length);var i=t.slice(e,"\r"==t.charAt(o-1)?o-1:o),s=i.indexOf("\r");-1!=s?(r.push(i.slice(0,s)),e+=s+1):(r.push(i),e=o+1)}return r}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=vi;var wi=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(r){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},bi=function(){var t=Zn("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),xi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};t.keyNames=xi,function(){for(var t=0;10>t;t++)xi[t+48]=t+"";for(var t=65;90>=t;t++)xi[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)xi[t+111]=xi[t+63235]="F"+t}();var Pi=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?r.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,u="L";return function(e){if(!n.test(e))return!1;for(var r,l=e.length,c=[],p=0;l>p;++p)c.push(r=t(e.charCodeAt(p)));for(var p=0,h=u;l>p;++p){var r=c[p];"m"==r?c[p]=h:h=r}for(var p=0,d=u;l>p;++p){var r=c[p];"1"==r&&"r"==d?c[p]="n":i.test(r)&&(d=r,"r"==r&&(c[p]="R"))}for(var p=1,h=c[0];l-1>p;++p){var r=c[p];"+"==r&&"1"==h&&"1"==c[p+1]?c[p]="1":","!=r||h!=c[p+1]||"1"!=h&&"n"!=h||(c[p]=h),h=r}for(var p=0;l>p;++p){var r=c[p];if(","==r)c[p]="N";else if("%"==r){for(var f=p+1;l>f&&"%"==c[f];++f);for(var _=p&&"!"==c[p-1]||l-1>f&&"1"==c[f]?"1":"N",g=p;f>g;++g)c[g]=_;p=f-1}}for(var p=0,d=u;l>p;++p){var r=c[p];"L"==d&&"1"==r?c[p]="L":i.test(r)&&(d=r)}for(var p=0;l>p;++p)if(o.test(c[p])){for(var f=p+1;l>f&&o.test(c[f]);++f);for(var y="L"==(p?c[p-1]:u),m="L"==(l-1>f?c[f]:u),_=y||m?"L":"R",g=p;f>g;++g)c[g]=_;p=f-1}for(var v,w=[],p=0;l>p;)if(s.test(c[p])){var b=p;for(++p;l>p&&s.test(c[p]);++p);w.push({from:b,to:p,level:0})}else{var x=p,P=w.length;for(++p;l>p&&"L"!=c[p];++p);for(var g=x;p>g;)if(a.test(c[g])){g>x&&w.splice(P,0,{from:x,to:g,level:1});var C=g;for(++g;p>g&&a.test(c[g]);++g);w.splice(P,0,{from:C,to:g,level:2}),x=g}else++g;p>x&&w.splice(P,0,{from:x,to:p,level:1})}return 1==w[0].level&&(v=e.match(/^\s+/))&&(w[0].from=v[0].length,w.unshift({from:0,to:v[0].length,level:0})),1==Bn(w).level&&(v=e.match(/\s+$/))&&(Bn(w).to-=v[0].length,w.push({from:l-v[0].length,to:l,level:0})),w[0].level!=Bn(w).level&&w.push({from:l,to:l,level:w[0].level}),w}}();return t.version="3.11 +",t}();(function(){"use strict";var t=/^(\s*)([*+-]|(\d+)\.)(\s*)/,e="*+-";i.commands.newlineAndIndentContinueMarkdownList=function(r){var n,o=r.getCursor(),i=r.getStateAfter(o.line).list;if(!i||!(n=r.getLine(o.line).match(t)))return r.execCommand("newlineAndIndent"),void 0;var s=n[1],a=n[4],u=e.indexOf(n[2])>=0?n[2]:parseInt(n[3],10)+1+".";r.replaceSelection("\n"+s+u+a,"end")}})(),i.defineMode("xml",function(t,e){function r(t,e){function r(r){return e.tokenize=r,r(t,e)}var o=t.next();if("<"==o){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?r(i("atom","]]>")):null:t.match("--")?r(i("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(s(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=i("meta","?>"),"meta";var a=t.eat("/");v="";for(var u;u=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)v+=u;return v?(w=a?"closeTag":"openTag",e.tokenize=n,"tag"):"error"}if("&"==o){var l;
return l=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),l?"atom":"error"}return t.eatWhile(/[^&<]/),null}function n(t,e){var n=t.next();return">"==n||"/"==n&&t.eat(">")?(e.tokenize=r,w=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(w="equals",null):/[\'\"]/.test(n)?(e.tokenize=o(n),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function o(t){return function(e,r){for(;!e.eol();)if(e.next()==t){r.tokenize=n;break}return"string"}}function i(t,e){return function(n,o){for(;!n.eol();){if(n.match(e)){o.tokenize=r;break}n.next()}return t}}function s(t){return function(e,n){for(var o;null!=(o=e.next());){if("<"==o)return n.tokenize=s(t+1),n.tokenize(e,n);if(">"==o){if(1==t){n.tokenize=r;break}return n.tokenize=s(t-1),n.tokenize(e,n)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)b.cc.push(arguments[t])}function u(){return a.apply(null,arguments),!0}function l(t,e){var r=E.doNotIndent.hasOwnProperty(t)||b.context&&b.context.noIndent;b.context={prev:b.context,tagName:t,indent:b.indented,startOfLine:e,noIndent:r}}function c(){b.context&&(b.context=b.context.prev)}function p(t){if("openTag"==t)return b.tagName=v,b.tagStart=x.column(),u(_,h(b.startOfLine));if("closeTag"==t){var e=!1;return b.context?b.context.tagName!=v&&(E.implicitlyClosed.hasOwnProperty(b.context.tagName.toLowerCase())&&c(),e=!b.context||b.context.tagName!=v):e=!0,e&&(P="error"),u(d(e))}return u()}function h(t){return function(e){var r=b.tagName;return b.tagName=b.tagStart=null,"selfcloseTag"==e||"endTag"==e&&E.autoSelfClosers.hasOwnProperty(r.toLowerCase())?(f(r.toLowerCase()),u()):"endTag"==e?(f(r.toLowerCase()),l(r,t),u()):u()}}function d(t){return function(e){return t&&(P="error"),"endTag"==e?(c(),u()):(P="error",u(arguments.callee))}}function f(t){for(var e;;){if(!b.context)return;if(e=b.context.tagName.toLowerCase(),!E.contextGrabbers.hasOwnProperty(e)||!E.contextGrabbers[e].hasOwnProperty(t))return;c()}}function _(t){return"word"==t?(P="attribute",u(g,_)):"endTag"==t||"selfcloseTag"==t?a():(P="error",u(_))}function g(t){return"equals"==t?u(y,_):(E.allowMissing?"word"==t&&(P="attribute"):P="error","endTag"==t||"selfcloseTag"==t?a():u())}function y(t){return"string"==t?u(m):"word"==t&&E.allowUnquoted?(P="string",u()):(P="error","endTag"==t||"selfCloseTag"==t?a():u())}function m(t){return"string"==t?u(m):a()}var v,w,b,x,P,C=t.indentUnit,S=e.multilineTagIndentFactor||1,E=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},k=e.alignCDATA;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;P=w=v=null;var r=e.tokenize(t,e);if(e.type=w,(r||w)&&"comment"!=r)for(b=e,x=t;;){var n=e.cc.pop()||p;if(n(w||r))break}return e.startOfLine=!1,P||r},indent:function(t,e,o){var i=t.context;if(t.tokenize!=n&&t.tokenize!=r||i&&i.noIndent)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return t.tagStart+C*S;if(k&&/<!\[CDATA\[/.test(e))return 0;for(i&&/^<\//.test(e)&&(i=i.prev);i&&!i.startOfLine;)i=i.prev;return i?i.indent+C:0},electricChars:"/",configuration:e.htmlMode?"html":"xml"}}),i.defineMIME("text/xml","xml"),i.defineMIME("application/xml","xml"),i.mimeModes.hasOwnProperty("text/html")||i.defineMIME("text/html",{name:"xml",htmlMode:!0}),i.defineMode("markdown",function(t,e){function r(t,e,r){return e.f=e.inline=r,r(t,e)}function n(t,e,r){return e.f=e.block=r,r(t,e)}function o(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,y||t.f!=a||(t.f=p,t.block=s),t.thisLineHasContent=!1,null}function s(t,o){var i=o.list!==!1;if(o.list!==!1&&o.indentationDiff>=0?(4>o.indentationDiff&&(o.indentation-=o.indentationDiff),o.list=null):o.list!==!1&&o.indentation>0?(o.list=null,o.listDepth=Math.floor(o.indentation/4)):o.list!==!1&&(o.list=!1,o.listDepth=0),o.indentationDiff>=4)return o.indentation-=4,t.skipToEnd(),P;if(t.eatSpace())return null;if("#"===t.peek()||o.prevLineHasContent&&t.match($))o.header=!0;else if(t.eat(">"))for(o.indentation++,o.quote=1,t.eatSpace();t.eat(">");)t.eatSpace(),o.quote++;else{if("["===t.peek())return r(t,o,d);if(t.match(H,!0))return O;if(o.prevLineHasContent&&!i||!t.match(j,!0)&&!t.match(D,!0)){if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return o.localMode=w(RegExp.$1),o.localMode&&(o.localState=o.localMode.startState()),n(t,o,u),P}else o.indentation+=4,o.list=!0,o.listDepth++,e.taskLists&&t.match(I,!1)&&(o.taskList=!0)}return r(t,o,o.inline)}function a(t,e){var r=m.token(t,e.htmlState);return y&&"tag"===r&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=p,e.block=s),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=p,e.block=s,e.htmlState.context=void 0),r}function u(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=p,e.block=s,P):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),P)}function l(t){var e=[];if(t.taskOpen)return"meta";if(t.taskClosed)return"property";if(t.strong&&e.push(R),t.em&&e.push(N),t.linkText&&e.push(M),t.code&&e.push(P),t.header&&e.push(x),t.quote&&e.push(t.quote%2?C:S),t.list!==!1){var r=(t.listDepth-1)%3;r?1===r?e.push(k):e.push(V):e.push(E)}return e.length?e.join(" "):null}function c(t,e){return t.match(z,!0)?l(e):void 0}function p(t,o){var i=o.text(t,o);if(i!==void 0)return i;if(o.list)return o.list=null,l(o);if(o.taskList){var s="x"!==t.match(I,!0)[1];return s?o.taskOpen=!0:o.taskClosed=!0,o.taskList=!1,l(o)}o.taskOpen=!1,o.taskClosed=!1;var u=t.next();if("\\"===u)return t.next(),l(o);if(o.linkTitle){o.linkTitle=!1;var c=u;"("===u&&(c=")"),c=(c+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var p="^\\s*(?:[^"+c+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(RegExp(p),!0))return W}if("`"===u){var d=l(o),f=t.pos;t.eatWhile("`");var _=1+t.pos-f;return o.code?_===b?(o.code=!1,d):l(o):(b=_,o.code=!0,l(o))}if(o.code)return l(o);if("!"===u&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),o.inline=o.f=h,T;if("["===u&&t.match(/.*\](\(| ?\[)/,!1))return o.linkText=!0,l(o);if("]"===u&&o.linkText){var y=l(o);return o.linkText=!1,o.inline=o.f=h,y}if("<"===u&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!0))return r(t,o,g(A,">"));if("<"===u&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!0))return r(t,o,g(L,">"));if("<"===u&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var m=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(m)&&(o.md_inside=!0)}return t.backUp(1),n(t,o,a)}if("<"===u&&t.match(/^\/\w*?>/))return o.md_inside=!1,"tag";var v=!1;if(!e.underscoresBreakWords&&"_"===u&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var w=t.pos-2;if(w>=0){var x=t.string.charAt(w);"_"!==x&&x.match(/(\w)/,!1)&&(v=!0)}}var d=l(o);if("*"===u||"_"===u&&!v){if(o.strong===u&&t.eat(u))return o.strong=!1,d;if(!o.strong&&t.eat(u))return o.strong=u,l(o);if(o.em===u)return o.em=!1,d;if(!o.em)return o.em=u,l(o)}else if(" "===u&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return l(o);t.backUp(1)}return l(o)}function h(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?r(t,e,g(W,"("===n?")":"]")):"error"}function d(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=f,M):r(t,e,p)}function f(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=p,W)}function _(t){return B[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),B[t]=RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),B[t]}function g(t,e,r){return r=r||p,function(n,o){return n.match(_(e)),o.inline=o.f=r,t}}var y=i.mimeModes.hasOwnProperty("text/html"),m=i.getMode(t,y?"text/html":"text/plain"),v={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},w=function(){var e,r,n={},o={},s=[];for(var a in i.modes)i.modes.propertyIsEnumerable(a)&&s.push(a);for(e=0;s.length>e;e++)n[s[e]]=s[e];var u=[];for(var a in i.mimeModes)i.mimeModes.propertyIsEnumerable(a)&&u.push({mime:a,mode:i.mimeModes[a]});for(e=0;u.length>e;e++)r=u[e].mime,o[r]=u[e].mime;for(var l in v)(v[l]in n||v[l]in o)&&(n[l]=v[l]);return function(e){return n[e]?i.getMode(t,n[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var b=0,x="header",P="comment",C="atom",S="number",E="variable-2",k="variable-3",V="keyword",O="hr",T="tag",A="link",L="link",M="link",W="string",N="em",R="strong",H=/^([*\-=_])(?:\s*\1){2,}\s*$/,j=/^[*\-+]\s+/,D=/^[0-9]+\.\s+/,I=/^\[(x| )\](?=\s)/,$=/^(?:\={1,}|-{1,})$/,z=/^[^!\[\]*_\\<>` "'(]+/,B=[];return{startState:function(){return{f:s,prevLineHasContent:!1,thisLineHasContent:!1,block:s,htmlState:i.startState(m),indentation:0,inline:p,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:i.copyState(m,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?i.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return e.prevLineHasContent=!1,o(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.header=!1,e.taskList=!1,e.code=!1,e.f=e.block;var r=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,n=4*Math.floor((r-e.indentation)/4);n>4&&(n=4);var i=e.indentation+n;if(e.indentationDiff=i-e.indentation,e.indentation=i,r>0)return null}return e.f(t,e)},blankLine:o,getType:l}},"xml"),i.defineMIME("text/x-markdown","markdown");var s={bold:"Cmd-B",italic:"Cmd-I",link:"Cmd-K",image:"Cmd-Alt-I",quote:"Cmd-'","ordered-list":"Cmd-Alt-L","unordered-list":"Cmd-L"},a=["bold","italic","|","quote","unordered-list","ordered-list","|","link","image","|","undo","redo","|",{name:"info",action:"http://lab.lepture.com/editor/markdown"},"preview","fullscreen"],u=/Mac/.test(navigator.platform);e.prototype.init=function(t){t=t||{},t.element&&(this.element=t.element),t.toolbar=t.toolbar||a,t.hasOwnProperty("status")||(t.status=["lines","words","cursor"]),this.options=t},e.prototype.render=function(t){t||(t=this.element||document.getElementsByTagName("textarea")[0]),this.element=t;var e=this.options,r=this,o={};for(var a in s)(function(t){o[n(s[t])]=function(e){r.action(t,e)}})(a);o.Enter="newlineAndIndentContinueMarkdownList",this.codemirror=i.fromTextArea(t,{mode:"markdown",theme:"paper",indentWithTabs:!0,lineNumbers:!1,extraKeys:o}),e.toolbar!==!1&&this.createToolbar(),e.status!==!1&&this.createStatusbar()},e.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,t&&0!==t.length){var e=document.createElement("div");e.className="editor-toolbar";var n,o=this;o.toolbar={};for(var i=0;t.length>i;i++)(function(t){var r,i,s,a;t.name?(r=t.name,i=t.shortcut,s=t.action,a=t.className):r=t,n=l(r,{className:a,shortcut:i}),s?"function"==typeof s?n.onclick=s:"string"==typeof s&&(n.href=s,n.target="_blank"):n.onclick=function(){return o.action(r)},o.toolbar[r]=n,e.appendChild(n)})(t[i]);var s=this.codemirror;s.on("cursorActivity",function(){var t=r(s);for(var e in o.toolbar)(function(e){var r=o.toolbar[e];t[e]?r.classList.add("active"):r.classList.remove("active")})(e)});var a=s.getWrapperElement();return a.parentNode.insertBefore(e,a),e}},e.prototype.createStatusbar=function(t){if(t=t||this.options.status,t&&0!==t.length){var e=document.createElement("div");e.className="editor-statusbar";for(var r,n=this.codemirror,o=0;t.length>o;o++)(function(t){var o=document.createElement("span");o.className=t,"words"===t?(o.innerHTML="0",n.on("update",function(){o.innerHTML=n.getValue().length})):"lines"===t?(o.innerHTML="0",n.on("update",function(){o.innerHTML=n.lineCount()})):"cursor"===t&&(o.innerHTML="0:0",n.on("cursorActivity",function(){r=n.getCursor(),o.innerHTML=r.line+":"+r.ch})),e.appendChild(o)})(t[o]);var i=this.codemirror.getWrapperElement();return i.parentNode.insertBefore(e,i.nextSibling),e}},e.prototype.action=function(t,e){if(e=e||this.codemirror){var n=r(e),i=function(r,o){var i,s=e.getCursor("start"),a=e.getCursor("end");return n[t]?(i=e.getLine(s.line),r=i.slice(0,s.ch),o=i.slice(s.ch),"bold"===t?(r=r.replace(/^(.*)?(\*|\_){2}(\S+.*)?$/,"$1$3"),o=o.replace(/^(.*\S+)?(\*|\_){2}(\s+.*)?$/,"$1$3"),s.ch-=2,a.ch-=2):"italic"===t&&(r=r.replace(/^(.*)?(\*|\_)(\S+.*)?$/,"$1$3"),o=o.replace(/^(.*\S+)?(\*|\_)(\s+.*)?$/,"$1$3"),s.ch-=1,a.ch-=1),e.setLine(s.line,r+o),e.setSelection(s,a),e.focus(),void 0):(o=null===o?"":o||r,i=e.getSelection(),e.replaceSelection(r+i+o),s.ch+=r.length,a.ch+=r.length,e.setSelection(s,a),e.focus(),void 0)},s=function(){for(var r=e.getCursor("start"),o=e.getCursor("end"),i={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},a=r.line;o.line>=a;a++)(function(r){var o=e.getLine(r);o=n[t]?o.replace(i[t],"$1"):s[t]+o,e.setLine(r,o)})(a);e.focus()};switch(t){case"bold":i("**");break;case"italic":i("*");break;case"link":i("[","](http://)");break;case"image":i("![","](http://)");break;case"quote":case"unordered-list":case"ordered-list":s();break;case"undo":e.undo(),e.focus();break;case"redo":e.redo(),e.focus();break;case"fullscreen":o(e.getWrapperElement())}}};var l=function(t,e){e=e||{};var r;if("|"===t)return r=document.createElement("i"),r.className="separator",r.innerHTML="|",r;r=document.createElement("a");var o=e.shortcut||s[t];return o&&(o=n(o),r.title=o,r.title=r.title.replace("Cmd",""),u&&(r.title=r.title.replace("Alt",""))),r.className=e.className||"icon-"+t,r};t.Editor=e})(this),function(t){function e(t,e){return function(r){return u(t.call(this,r),e)}}function r(t){return function(e){return this.lang().ordinal(t.call(this,e))}}function n(){}function o(t){s(this,t)}function i(t){var e=this._data={},r=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,o=t.weeks||t.week||t.w||0,i=t.days||t.day||t.d||0,s=t.hours||t.hour||t.h||0,u=t.minutes||t.minute||t.m||0,l=t.seconds||t.second||t.s||0,c=t.milliseconds||t.millisecond||t.ms||0;this._milliseconds=c+1e3*l+6e4*u+36e5*s,this._days=i+7*o,this._months=n+12*r,e.milliseconds=c%1e3,l+=a(c/1e3),e.seconds=l%60,u+=a(l/60),e.minutes=u%60,s+=a(u/60),e.hours=s%24,i+=a(s/24),i+=7*o,e.days=i%30,n+=a(i/30),e.months=n%12,r+=a(n/12),e.years=r}function s(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function a(t){return 0>t?Math.ceil(t):Math.floor(t)}function u(t,e){for(var r=t+"";e>r.length;)r="0"+r;return r}function l(t,e,r){var n,o=e._milliseconds,i=e._days,s=e._months;o&&t._d.setTime(+t+o*r),i&&t.date(t.date()+i*r),s&&(n=t.date(),t.date(1).month(t.month()+s*r).date(Math.min(n,t.daysInMonth())))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function p(t,e){var r,n=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),i=0;for(r=0;n>r;r++)~~t[r]!==~~e[r]&&i++;return i+o}function h(t,e){return e.abbr=t,N[t]||(N[t]=new n),N[t].set(e),N[t]}function d(t){return t?(!N[t]&&R&&require("./lang/"+t),N[t]):A.fn._lang}function f(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function _(t){var e,r,n=t.match(j);for(e=0,r=n.length;r>e;e++)n[e]=oe[n[e]]?oe[n[e]]:f(n[e]);return function(o){var i="";for(e=0;r>e;e++)i+="function"==typeof n[e].call?n[e].call(o,t):n[e];return i}}function g(t,e){function r(e){return t.lang().longDateFormat(e)||e}for(var n=5;n--&&D.test(e);)e=e.replace(D,r);return ee[e]||(ee[e]=_(e)),ee[e](t)}function y(t){switch(t){case"DDDD":return z;case"YYYY":return B;case"YYYYY":return q;case"S":case"SS":case"SSS":case"DDD":return $;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return J;case"X":return Y;case"Z":case"ZZ":return F;case"T":return U;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return I;default:return RegExp(t.replace("\\",""))}}function m(t,e,r){var n,o=r._a;switch(t){case"M":case"MM":o[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":n=d(r._l).monthsParse(e),null!=n?o[1]=n:r._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(o[2]=~~e);break;case"YY":o[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":o[0]=~~e;break;case"a":case"A":r._isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":o[3]=~~e;break;case"m":case"mm":o[4]=~~e;break;case"s":case"ss":o[5]=~~e;break;case"S":case"SS":case"SSS":o[6]=~~(1e3*("0."+e));break;case"X":r._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":r._useUTC=!0,n=(e+"").match(Z),n&&n[1]&&(r._tzh=~~n[1]),n&&n[2]&&(r._tzm=~~n[2]),n&&"+"===n[0]&&(r._tzh=-r._tzh,r._tzm=-r._tzm)}null==e&&(r._isValid=!1)}function v(t){var e,r,n=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];n[3]+=t._tzh||0,n[4]+=t._tzm||0,r=new Date(0),t._useUTC?(r.setUTCFullYear(n[0],n[1],n[2]),r.setUTCHours(n[3],n[4],n[5],n[6])):(r.setFullYear(n[0],n[1],n[2]),r.setHours(n[3],n[4],n[5],n[6])),t._d=r}}function w(t){var e,r,n=t._f.match(j),o=t._i;for(t._a=[],e=0;n.length>e;e++)r=(y(n[e]).exec(o)||[])[0],r&&(o=o.slice(o.indexOf(r)+r.length)),oe[n[e]]&&m(n[e],r,t);t._isPm&&12>t._a[3]&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),v(t)}function b(t){for(var e,r,n,i,a=99;t._f.length;){if(e=s({},t),e._f=t._f.pop(),w(e),r=new o(e),r.isValid()){n=r;break}i=p(e._a,r.toArray()),a>i&&(a=i,n=r)}s(t,n)}function x(t){var e,r=t._i;if(G.exec(r)){for(t._f="YYYY-MM-DDT",e=0;4>e;e++)if(X[e][1].exec(r)){t._f+=X[e][0];break}F.exec(r)&&(t._f+=" Z"),w(t)}else t._d=new Date(r)}function P(e){var r=e._i,n=H.exec(r);r===t?e._d=new Date:n?e._d=new Date(+n[1]):"string"==typeof r?x(e):c(r)?(e._a=r.slice(0),v(e)):e._d=r instanceof Date?new Date(+r):new Date(r)}function C(t,e,r,n,o){return o.relativeTime(e||1,!!r,t,n)}function S(t,e,r){var n=W(Math.abs(t)/1e3),o=W(n/60),i=W(o/60),s=W(i/24),a=W(s/365),u=45>n&&["s",n]||1===o&&["m"]||45>o&&["mm",o]||1===i&&["h"]||22>i&&["hh",i]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",W(s/30)]||1===a&&["y"]||["yy",a];return u[2]=e,u[3]=t>0,u[4]=r,C.apply({},u)}function E(t,e,r){var n=r-e,o=r-t.day();return o>n&&(o-=7),n-7>o&&(o+=7),Math.ceil(A(t).add("d",o).dayOfYear()/7)}function k(t){var e=t._i,r=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=d().preparse(e)),A.isMoment(e)?(t=s({},e),t._d=new Date(+e._d)):r?c(r)?b(t):w(t):P(t),new o(t))}function V(t,e){A.fn[t]=A.fn[t+"s"]=function(t){var r=this._isUTC?"UTC":"";return null!=t?(this._d["set"+r+e](t),this):this._d["get"+r+e]()}}function O(t){A.duration.fn[t]=function(){return this._data[t]}}function T(t,e){A.duration.fn["as"+t]=function(){return+this/e}}for(var A,L,M="2.0.0",W=Math.round,N={},R="undefined"!=typeof module&&module.exports,H=/^\/?Date\((\-?\d+)/i,j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,I=/\d\d?/,$=/\d{1,3}/,z=/\d{3}/,B=/\d{1,4}/,q=/[+\-]?\d{1,6}/,J=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,F=/Z|[\+\-]\d\d:?\d\d/i,U=/T/i,Y=/[\+\-]?\d+(\.\d{1,3})?/,G=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,K="YYYY-MM-DDTHH:mm:ssZ",X=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Z=/([\+\-]|\d\d)/gi,Q="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),te={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ee={},re="DDD w W M D d".split(" "),ne="M D H h m s w W".split(" "),oe={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(10*t/6),4)},X:function(){return this.unix()}};re.length;)L=re.pop(),oe[L+"o"]=r(oe[L]);for(;ne.length;)L=ne.pop(),oe[L+L]=e(oe[L],2);for(oe.DDDD=e(oe.DDD,3),n.prototype={set:function(t){var e,r;for(r in t)e=t[r],"function"==typeof e?this[r]=e:this["_"+r]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,r,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(r=A([2e3,e]),n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[e]=RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},meridiem:function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var r=this._calendar[t];return"function"==typeof r?r.apply(e):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,r,n){var o=this._relativeTime[r];return"function"==typeof o?o(t,e,r,n):o.replace(/%d/i,t)},pastFuture:function(t,e){var r=this._relativeTime[t>0?"future":"past"];return"function"==typeof r?r(e):r.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return E(t,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},A=function(t,e,r){return k({_i:t,_f:e,_l:r,_isUTC:!1})},A.utc=function(t,e,r){return k({_useUTC:!0,_isUTC:!0,_l:r,_i:t,_f:e})},A.unix=function(t){return A(1e3*t)},A.duration=function(t,e){var r,n=A.isDuration(t),o="number"==typeof t,s=n?t._data:o?{}:t;return o&&(e?s[e]=t:s.milliseconds=t),r=new i(s),n&&t.hasOwnProperty("_lang")&&(r._lang=t._lang),r},A.version=M,A.defaultFormat=K,A.lang=function(e,r){return e?(r?h(e,r):N[e]||d(e),A.duration.fn._lang=A.fn._lang=d(e),t):A.fn._lang._abbr},A.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),d(t)},A.isMoment=function(t){return t instanceof o},A.isDuration=function(t){return t instanceof i},A.fn=o.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return A.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!p(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){var e=g(this,t||A.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var r;return r="string"==typeof t?A.duration(+e,t):A.duration(t,e),l(this,r,1),this},subtract:function(t,e){var r;return r="string"==typeof t?A.duration(+e,t):A.duration(t,e),l(this,r,-1),this},diff:function(t,e,r){var n,o,i=this._isUTC?A(t).utc():A(t).local(),s=6e4*(this.zone()-i.zone());return e&&(e=e.replace(/s$/,"")),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+i.daysInMonth()),o=12*(this.year()-i.year())+(this.month()-i.month()),o+=(this-A(this).startOf("month")-(i-A(i).startOf("month")))/n,"year"===e&&(o/=12)):(n=this-i-s,o="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?n/864e5:"week"===e?n/6048e5:n),r?o:a(o)},from:function(t,e){return A.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(A(),t)},calendar:function(){var t=this.diff(A().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<A([this.year()]).zone()||this.zone()<A([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t=t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.day(0),this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(e,r){return r=r!==t?r:"millisecond",+this.clone().startOf(r)>+A(e).startOf(r)},isBefore:function(e,r){return r=r!==t?r:"millisecond",+this.clone().startOf(r)<+A(e).startOf(r)},isSame:function(e,r){return r=r!==t?r:"millisecond",+this.clone().startOf(r)===+A(e).startOf(r)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=W((A(this).startOf("day")-A(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},isoWeek:function(t){var e=E(this,1,4);return null==t?e:this.add("d",7*(t-e))},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},lang:function(e){return e===t?this._lang:(this._lang=d(e),this)}},L=0;Q.length>L;L++)V(Q[L].toLowerCase().replace(/s$/,""),Q[L]);V("year","FullYear"),A.fn.days=A.fn.day,A.fn.weeks=A.fn.week,A.fn.isoWeeks=A.fn.isoWeek,A.duration.fn=i.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,r=S(e,!t,this.lang());return t&&(r=this.lang().pastFuture(e,r)),this.lang().postformat(r)},lang:A.fn.lang};for(L in te)te.hasOwnProperty(L)&&(T(L,te[L]),O(L.toLowerCase()));T("Weeks",6048e5),A.lang("en",{ordinal:function(t){var e=t%10,r=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+r}}),R&&(module.exports=A),"undefined"==typeof ender&&(this.moment=A),"function"==typeof define&&define.amd&&define("moment",[],function(){return A})}.call(this),function(t){t.fn.slugify=function(e,r){var n=this,o=t(e),i=n.is("input")||n.is("textarea"),s=t.extend({slugFunc:function(t,e){return e(t)}},r),a=function(t){return s.slugFunc(t,function(t){if(!t)return"";for(var e={"2d":"-",20:"-",24:"s",26:"and",30:"0",31:"1",32:"2",33:"3",34:"4",35:"5",36:"6",37:"7",38:"8",39:"9",41:"A",42:"B",43:"C",44:"D",45:"E",46:"F",47:"G",48:"H",49:"I",50:"P",51:"Q",52:"R",53:"S",54:"T",55:"U",56:"V",57:"W",58:"X",59:"Y",61:"a",62:"b",63:"c",64:"d",65:"e",66:"f",67:"g",68:"h",69:"i",70:"p",71:"q",72:"r",73:"s",74:"t",75:"u",76:"v",77:"w",78:"x",79:"y",100:"A",101:"a",102:"A",103:"a",104:"A",105:"a",106:"C",107:"c",108:"C",109:"c",110:"D",111:"d",112:"E",113:"e",114:"E",115:"e",116:"E",117:"e",118:"E",119:"e",120:"G",121:"g",122:"G",123:"g",124:"H",125:"h",126:"H",127:"h",128:"I",129:"i",130:"I",131:"i",132:"IJ",133:"ij",134:"J",135:"j",136:"K",137:"k",138:"k",139:"L",140:"l",141:"L",142:"l",143:"N",144:"n",145:"N",146:"n",147:"N",148:"n",149:"n",150:"O",151:"o",152:"OE",153:"oe",154:"R",155:"r",156:"R",157:"r",158:"R",159:"r",160:"S",161:"s",162:"T",163:"t",164:"T",165:"t",166:"T",167:"t",168:"U",169:"u",170:"U",171:"u",172:"U",173:"u",174:"W",175:"w",176:"Y",177:"y",178:"Y",179:"Z",180:"b",181:"B",182:"b",183:"b",184:"b",185:"b",186:"C",187:"C",188:"c",189:"D",190:"E",191:"F",192:"f",193:"G",194:"Y",195:"h",196:"i",197:"I",198:"K",199:"k",200:"A",201:"a",202:"A",203:"a",204:"E",205:"e",206:"E",207:"e",208:"I",209:"i",210:"R",211:"r",212:"R",213:"r",214:"U",215:"u",216:"U",217:"u",218:"S",219:"s",220:"n",221:"d",222:"8",223:"8",224:"Z",225:"z",226:"A",227:"a",228:"E",229:"e",230:"O",231:"o",232:"Y",233:"y",234:"l",235:"n",236:"t",237:"j",238:"db",239:"qp",240:"<",241:"?",242:"?",243:"B",244:"U",245:"A",246:"E",247:"e",248:"J",249:"j",250:"a",251:"a",252:"a",253:"b",254:"c",255:"e",256:"d",257:"d",258:"e",259:"e",260:"g",261:"g",262:"g",263:"Y",264:"x",265:"u",266:"h",267:"h",268:"i",269:"i",270:"w",271:"m",272:"n",273:"n",274:"N",275:"o",276:"oe",277:"m",278:"o",279:"r",280:"R",281:"R",282:"S",283:"f",284:"f",285:"f",286:"f",287:"t",288:"t",289:"u",290:"Z",291:"Z",292:"3",293:"3",294:"?",295:"?",296:"5",297:"C",298:"O",299:"B",363:"a",364:"e",365:"i",366:"o",367:"u",368:"c",369:"d",386:"A",388:"E",389:"H",390:"i",391:"A",392:"B",393:"r",394:"A",395:"E",396:"Z",397:"H",398:"O",399:"I",400:"E",401:"E",402:"T",403:"r",404:"E",405:"S",406:"I",407:"I",408:"J",409:"jb",410:"A",411:"B",412:"B",413:"r",414:"D",415:"E",416:"X",417:"3",418:"N",419:"N",420:"P",421:"C",422:"T",423:"y",424:"O",425:"X",426:"U",427:"h",428:"W",429:"W",430:"a",431:"6",432:"B",433:"r",434:"d",435:"e",436:"x",437:"3",438:"N",439:"N",440:"P",441:"C",442:"T",443:"Y",444:"qp",445:"x",446:"U",447:"h",448:"W",449:"W",450:"e",451:"e",452:"h",453:"r",454:"e",455:"s",456:"i",457:"i",458:"j",459:"jb",460:"W",461:"w",462:"Tb",463:"tb",464:"IC",465:"ic",466:"A",467:"a",468:"IA",469:"ia",470:"Y",471:"y",472:"O",473:"o",474:"V",475:"v",476:"V",477:"v",478:"Oy",479:"oy",480:"C",481:"c",490:"R",491:"r",492:"F",493:"f",494:"H",495:"h",496:"X",497:"x",498:"3",499:"3",500:"d",501:"d",502:"d",503:"d",504:"R",505:"R",506:"R",507:"R",508:"JT",509:"JT",510:"E",511:"e",512:"JT",513:"jt",514:"JX",515:"JX",531:"U",532:"D",533:"Q",534:"N",535:"T",536:"2",537:"F",538:"r",539:"p",540:"z",541:"2",542:"n",543:"x",544:"U",545:"B",546:"j",547:"t",548:"n",549:"C",550:"R",551:"8",552:"R",553:"O",554:"P",555:"O",556:"S",561:"w",562:"f",563:"q",564:"n",565:"t",566:"q",567:"t",568:"n",569:"p",570:"h",571:"a",572:"n",573:"a",574:"u",575:"j",576:"u",577:"2",578:"n",579:"2",580:"n",581:"g",582:"l",583:"uh",584:"p",585:"o",586:"S",587:"u","4a":"J","4b":"K","4c":"L","4d":"M","4e":"N","4f":"O","5a":"Z","6a":"j","6b":"k","6c":"l","6d":"m","6e":"n","6f":"o","7a":"z",a2:"c",a3:"f",a5:"Y",a7:"s",a9:"c",aa:"a",ae:"r",b2:"2",b3:"3",b5:"u",b6:"p",b9:"1",c0:"A",c1:"A",c2:"A",c3:"A",c4:"A",c5:"A",c6:"AE",c7:"C",c8:"E",c9:"E",ca:"E",cb:"E",cc:"I",cd:"I",ce:"I",cf:"I",d0:"D",d1:"N",d2:"O",d3:"O",d4:"O",d5:"O",d6:"O",d7:"X",d8:"O",d9:"U",da:"U",db:"U",dc:"U",dd:"Y",de:"p",df:"b",e0:"a",e1:"a",e2:"a",e3:"a",e4:"a",e5:"a",e6:"ae",e7:"c",e8:"e",e9:"e",ea:"e",eb:"e",ec:"i",ed:"i",ee:"i",ef:"i",f0:"o",f1:"n",f2:"o",f3:"o",f4:"o",f5:"o",f6:"o",f8:"o",f9:"u",fa:"u",fb:"u",fc:"u",fd:"y",ff:"y","10a":"C","10b":"c","10c":"C","10d":"c","10e":"D","10f":"d","11a":"E","11b":"e","11c":"G","11d":"g","11e":"G","11f":"g","12a":"I","12b":"i","12c":"I","12d":"i","12e":"I","12f":"i","13a":"l","13b":"L","13c":"l","13d":"L","13e":"l","13f":"L","14a":"n","14b":"n","14c":"O","14d":"o","14e":"O","14f":"o","15a":"S","15b":"s","15c":"S","15d":"s","15e":"S","15f":"s","16a":"U","16b":"u","16c":"U","16d":"u","16e":"U","16f":"u","17a":"z","17b":"Z","17c":"z","17d":"Z","17e":"z","17f":"f","18a":"D","18b":"d","18c":"d","18d":"q","18e":"E","18f":"e","19a":"l","19b":"h","19c":"w","19d":"N","19e":"n","19f":"O","1a0":"O","1a1":"o","1a2":"P","1a3":"P","1a4":"P","1a5":"p","1a6":"R","1a7":"S","1a8":"s","1a9":"E","1aa":"l","1ab":"t","1ac":"T","1ad":"t","1ae":"T","1af":"U","1b0":"u","1b1":"U","1b2":"U","1b3":"Y","1b4":"y","1b5":"Z","1b6":"z","1b7":"3","1b8":"3","1b9":"3","1ba":"3","1bb":"2","1bc":"5","1bd":"5","1be":"5","1bf":"p","1c4":"DZ","1c5":"Dz","1c6":"dz","1c7":"Lj","1c8":"Lj","1c9":"lj","1ca":"NJ","1cb":"Nj","1cc":"nj","1cd":"A","1ce":"a","1cf":"I","1d0":"i","1d1":"O","1d2":"o","1d3":"U","1d4":"u","1d5":"U","1d6":"u","1d7":"U","1d8":"u","1d9":"U","1da":"u","1db":"U","1dc":"u","1dd":"e","1de":"A","1df":"a","1e0":"A","1e1":"a","1e2":"AE","1e3":"ae","1e4":"G","1e5":"g","1e6":"G","1e7":"g","1e8":"K","1e9":"k","1ea":"Q","1eb":"q","1ec":"Q","1ed":"q","1ee":"3","1ef":"3","1f0":"J","1f1":"dz","1f2":"dZ","1f3":"DZ","1f4":"g","1f5":"G","1f6":"h","1f7":"p","1f8":"N","1f9":"n","1fa":"A","1fb":"a","1fc":"AE","1fd":"ae","1fe":"O","1ff":"o","20a":"I","20b":"i","20c":"O","20d":"o","20e":"O","20f":"o","21a":"T","21b":"t","21c":"3","21d":"3","21e":"H","21f":"h","22a":"O","22b":"o","22c":"O","22d":"o","22e":"O","22f":"o","23a":"A","23b":"C","23c":"c","23d":"L","23e":"T","23f":"s","24a":"Q","24b":"q","24c":"R","24d":"r","24e":"Y","24f":"y","25a":"e","25b":"3","25c":"3","25d":"3","25e":"3","25f":"j","26a":"i","26b":"I","26c":"I","26d":"I","26e":"h","26f":"w","27a":"R","27b":"r","27c":"R","27d":"R","27e":"r","27f":"r","28a":"u","28b":"v","28c":"A","28d":"M","28e":"Y","28f":"Y","29a":"B","29b":"G","29c":"H","29d":"j","29e":"K","29f":"L","2a0":"q","2a1":"?","2a2":"c","2a3":"dz","2a4":"d3","2a5":"dz","2a6":"ts","2a7":"tf","2a8":"tc","2a9":"fn","2aa":"ls","2ab":"lz","2ac":"ww","2ae":"u","2af":"u","2b0":"h","2b1":"h","2b2":"j","2b3":"r","2b4":"r","2b5":"r","2b6":"R","2b7":"W","2b8":"Y","2df":"x","2e0":"Y","2e1":"1","2e2":"s","2e3":"x","2e4":"c","36a":"h","36b":"m","36c":"r","36d":"t","36e":"v","36f":"x","37b":"c","37c":"c","37d":"c","38a":"I","38c":"O","38e":"Y","38f":"O","39a":"K","39b":"A","39c":"M","39d":"N","39e":"E","39f":"O","3a0":"TT","3a1":"P","3a3":"E","3a4":"T","3a5":"Y","3a6":"O","3a7":"X","3a8":"Y","3a9":"O","3aa":"I","3ab":"Y","3ac":"a","3ad":"e","3ae":"n","3af":"i","3b0":"v","3b1":"a","3b2":"b","3b3":"y","3b4":"d","3b5":"e","3b6":"c","3b7":"n","3b8":"0","3b9":"1","3ba":"k","3bb":"j","3bc":"u","3bd":"v","3be":"c","3bf":"o","3c0":"tt","3c1":"p","3c2":"s","3c3":"o","3c4":"t","3c5":"u","3c6":"q","3c7":"X","3c8":"Y","3c9":"w","3ca":"i","3cb":"u","3cc":"o","3cd":"u","3ce":"w","3d0":"b","3d1":"e","3d2":"Y","3d3":"Y","3d4":"Y","3d5":"O","3d6":"w","3d7":"x","3d8":"Q","3d9":"q","3da":"C","3db":"c","3dc":"F","3dd":"f","3de":"N","3df":"N","3e2":"W","3e3":"w","3e4":"q","3e5":"q","3e6":"h","3e7":"e","3e8":"S","3e9":"s","3ea":"X","3eb":"x","3ec":"6","3ed":"6","3ee":"t","3ef":"t","3f0":"x","3f1":"e","3f2":"c","3f3":"j","3f4":"O","3f5":"E","3f6":"E","3f7":"p","3f8":"p","3f9":"C","3fa":"M","3fb":"M","3fc":"p","3fd":"C","3fe":"C","3ff":"C","40a":"Hb","40b":"Th","40c":"K","40d":"N","40e":"Y","40f":"U","41a":"K","41b":"jI","41c":"M","41d":"H","41e":"O","41f":"TT","42a":"b","42b":"bI","42c":"b","42d":"E","42e":"IO","42f":"R","43a":"K","43b":"JI","43c":"M","43d":"H","43e":"O","43f":"N","44a":"b","44b":"bI","44c":"b","44d":"e","44e":"io","44f":"r","45a":"Hb","45b":"h","45c":"k","45d":"n","45e":"y","45f":"u","46a":"mY","46b":"my","46c":"Im","46d":"Im","46e":"3","46f":"3","47a":"O","47b":"o","47c":"W","47d":"w","47e":"W","47f":"W","48a":"H","48b":"H","48c":"B","48d":"b","48e":"P","48f":"p","49a":"K","49b":"k","49c":"K","49d":"k","49e":"K","49f":"k","4a0":"K","4a1":"k","4a2":"H","4a3":"h","4a4":"H","4a5":"h","4a6":"Ih","4a7":"ih","4a8":"O","4a9":"o","4aa":"C","4ab":"c","4ac":"T","4ad":"t","4ae":"Y","4af":"y","4b0":"Y","4b1":"y","4b2":"X","4b3":"x","4b4":"TI","4b5":"ti","4b6":"H","4b7":"h","4b8":"H","4b9":"h","4ba":"H","4bb":"h","4bc":"E","4bd":"e","4be":"E","4bf":"e","4c0":"I","4c1":"X","4c2":"x","4c3":"K","4c4":"k","4c5":"jt","4c6":"jt","4c7":"H","4c8":"h","4c9":"H","4ca":"h","4cb":"H","4cc":"h","4cd":"M","4ce":"m","4cf":"l","4d0":"A","4d1":"a","4d2":"A","4d3":"a","4d4":"AE","4d5":"ae","4d6":"E","4d7":"e","4d8":"e","4d9":"e","4da":"E","4db":"e","4dc":"X","4dd":"X","4de":"3","4df":"3","4e0":"3","4e1":"3","4e2":"N","4e3":"n","4e4":"N","4e5":"n","4e6":"O","4e7":"o","4e8":"O","4e9":"o","4ea":"O","4eb":"o","4ec":"E","4ed":"e","4ee":"Y","4ef":"y","4f0":"Y","4f1":"y","4f2":"Y","4f3":"y","4f4":"H","4f5":"h","4f6":"R","4f7":"r","4f8":"bI","4f9":"bi","4fa":"F","4fb":"f","4fc":"X","4fd":"x","4fe":"X","4ff":"x","50a":"H","50b":"h","50c":"G","50d":"g","50e":"T","50f":"t","51a":"Q","51b":"q","51c":"W","51d":"w","53a":"d","53b":"r","53c":"L","53d":"Iu","53e":"O","53f":"y","54a":"m","54b":"o","54c":"N","54d":"U","54e":"Y","54f":"S","56a":"d","56b":"h","56c":"l","56d":"lu","56e":"d","56f":"y","57a":"w","57b":"2","57c":"n","57d":"u","57e":"y","57f":"un"},r="",n=0;t.length>n;n++)r+=e[t.charCodeAt(n).toString(16)]||"";
return r.toLowerCase()})},u=function(){null!==n.val()&&""!==n.val()?n.addClass("slugify-locked"):n.removeClass("slugify-locked")},l=function(){var e=a(t(this).val());i?n.filter(":not(.slugify-locked)").val(e):n.filter(":not(.slugify-locked)").text(e)};return o.keyup(l).change(l),n.change(function(){var e=a(t(this).val());n.val(e).text(e),u()}),u(),this}}(jQuery);